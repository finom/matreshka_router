{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///matreshka-router.min.js","webpack:///webpack/bootstrap c711189dea18d2150f18","webpack:///./src/index.js","webpack:///./src/router.js","webpack:///external {\"root\":[\"Matreshka\",\"calc\"],\"commonjs\":\"matreshka/calc\",\"commonjs2\":\"matreshka/calc\",\"amd\":\"matreshka/calc\"}","webpack:///external {\"root\":[\"Matreshka\",\"on\"],\"commonjs\":\"matreshka/on\",\"commonjs2\":\"matreshka/on\",\"amd\":\"matreshka/on\"}","webpack:///external {\"root\":[\"Matreshka\",\"onDebounce\"],\"commonjs\":\"matreshka/ondebounce\",\"commonjs2\":\"matreshka/ondebounce\",\"amd\":\"matreshka/ondebounce\"}","webpack:///external {\"root\":[\"Matreshka\",\"trigger\"],\"commonjs\":\"matreshka/trigger\",\"commonjs2\":\"matreshka/trigger\",\"amd\":\"matreshka/trigger\"}","webpack:///external {\"root\":[\"Matreshka\",\"set\"],\"commonjs\":\"matreshka/set\",\"commonjs2\":\"matreshka/set\",\"amd\":\"matreshka/set\"}"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","initRouter","route","type","_router2","subscribe","_router","Matreshka","Router","_classCallCheck","instance","Constructor","TypeError","handleHashChange","router","_set2","window","location","hash","hashEvent","handlePopStateChange","pathname","popEvent","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_calc","_calc2","_on","_on2","_ondebounce","_ondebounce2","_trigger","_trigger2","_set","parts","path","hashPath","value","_this","initialized","source","handler","fixed","replace","split","nonEmptyParts","push","join","debounceCalc","evt","previousValue","equals","_window","history","addEventListener","state","validPush","pushState","_this2","keys","changeEvents","filteredKeys","filter","init","routeSilent","values","calc","on","onDebounce","trigger","set"],"mappings":"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","file":"matreshka-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"matreshka/calc\"), require(\"matreshka/on\"), require(\"matreshka/ondebounce\"), require(\"matreshka/trigger\"), require(\"matreshka/set\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"matreshka/calc\", \"matreshka/on\", \"matreshka/ondebounce\", \"matreshka/trigger\", \"matreshka/set\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"matreshka/calc\"), require(\"matreshka/on\"), require(\"matreshka/ondebounce\"), require(\"matreshka/trigger\"), require(\"matreshka/set\")) : factory(root[\"Matreshka\"][\"calc\"], root[\"Matreshka\"][\"on\"], root[\"Matreshka\"][\"onDebounce\"], root[\"Matreshka\"][\"trigger\"], root[\"Matreshka\"][\"set\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"matreshka/calc\"), require(\"matreshka/on\"), require(\"matreshka/ondebounce\"), require(\"matreshka/trigger\"), require(\"matreshka/set\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"matreshka/calc\", \"matreshka/on\", \"matreshka/ondebounce\", \"matreshka/trigger\", \"matreshka/set\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"matreshka/calc\"), require(\"matreshka/on\"), require(\"matreshka/ondebounce\"), require(\"matreshka/trigger\"), require(\"matreshka/set\")) : factory(root[\"Matreshka\"][\"calc\"], root[\"Matreshka\"][\"on\"], root[\"Matreshka\"][\"onDebounce\"], root[\"Matreshka\"][\"trigger\"], root[\"Matreshka\"][\"set\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _router = __webpack_require__(1);\n\t\n\tvar _router2 = _interopRequireDefault(_router);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction initRouter(obj, route, type) {\n\t    _router2.default[type || 'hash'].subscribe(obj, route);\n\t    return obj;\n\t}\n\t\n\t/* istanbul ignore if */\n\t/* globals Matreshka */\n\t\n\tif (typeof Matreshka === 'function') {\n\t    Matreshka.Router = _router2.default;\n\t    Matreshka.initRouter = initRouter;\n\t}\n\t\n\tmodule.exports = initRouter;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _calc = __webpack_require__(2);\n\t\n\tvar _calc2 = _interopRequireDefault(_calc);\n\t\n\tvar _on = __webpack_require__(3);\n\t\n\tvar _on2 = _interopRequireDefault(_on);\n\t\n\tvar _ondebounce = __webpack_require__(4);\n\t\n\tvar _ondebounce2 = _interopRequireDefault(_ondebounce);\n\t\n\tvar _trigger = __webpack_require__(5);\n\t\n\tvar _trigger2 = _interopRequireDefault(_trigger);\n\t\n\tvar _set = __webpack_require__(6);\n\t\n\tvar _set2 = _interopRequireDefault(_set);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction handleHashChange(router) {\n\t    (0, _set2.default)(router, 'hashPath', window.location.hash, {\n\t        hashEvent: true\n\t    });\n\t}\n\t\n\tfunction handlePopStateChange(router) {\n\t    (0, _set2.default)(router, 'path', window.location.pathname, {\n\t        popEvent: true\n\t    });\n\t}\n\t\n\tvar Router = function () {\n\t    function Router(type) {\n\t        _classCallCheck(this, Router);\n\t\n\t        this.parts = [];\n\t        this.path = '/';\n\t        this.hashPath = '!#/';\n\t\n\t        // singletone pattern for history and hash router\n\t        /* istanbul ignore if */\n\t        if (type in Router) {\n\t            return Router[type];\n\t        }\n\t\n\t        this.type = type;\n\t\n\t        return this;\n\t    }\n\t\n\t    _createClass(Router, [{\n\t        key: 'init',\n\t        value: function init() {\n\t            var _this = this;\n\t\n\t            if (this.initialized) {\n\t                return this;\n\t            }\n\t\n\t            var type = this.type;\n\t\n\t\n\t            (0, _calc2.default)(this, {\n\t                parts: {\n\t                    source: 'path',\n\t                    handler: function handler(path) {\n\t                        var fixed = path.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '');\n\t\n\t                        return fixed ? fixed.split('/') : [];\n\t                    }\n\t                },\n\t                path: {\n\t                    source: 'parts',\n\t                    handler: function handler(parts) {\n\t                        var nonEmptyParts = [];\n\t\n\t                        for (var i = 0; i < parts.length; i++) {\n\t                            if (parts[i]) {\n\t                                nonEmptyParts.push(parts[i]);\n\t                            } else {\n\t                                break;\n\t                            }\n\t                        }\n\t\n\t                        return nonEmptyParts.length ? '/' + nonEmptyParts.join('/') + '/' : '/';\n\t                    }\n\t                }\n\t            }, { debounceCalc: false });\n\t\n\t            (0, _calc2.default)(this, {\n\t                hashPath: {\n\t                    source: 'path',\n\t                    handler: function handler(path) {\n\t                        return path && path !== '/' ? '#!' + path : '';\n\t                    }\n\t                },\n\t                path: {\n\t                    source: 'hashPath',\n\t                    handler: function handler(hashPath) {\n\t                        return hashPath ? hashPath.replace(/^#!/, '') : '';\n\t                    }\n\t                }\n\t            }, { debounceCalc: false });\n\t\n\t            (0, _on2.default)(this, 'change:parts', function (evt) {\n\t                var value = evt.value;\n\t                var previousValue = evt.previousValue;\n\t\n\t                var equals = value.length === previousValue.length;\n\t\n\t                if (equals) {\n\t                    for (var i = 0; i < value.length; i++) {\n\t                        if (value[i] !== previousValue[i]) {\n\t                            equals = false;\n\t                            break;\n\t                        }\n\t                    }\n\t                }\n\t\n\t                if (!equals) {\n\t                    (0, _trigger2.default)(_this, 'pathchange');\n\t                }\n\t            });\n\t\n\t            if (typeof window !== 'undefined') {\n\t                (function () {\n\t                    var _window = window;\n\t                    var history = _window.history;\n\t                    var location = _window.location;\n\t\n\t\n\t                    if (type === 'hash') {\n\t                        handleHashChange(_this);\n\t\n\t                        window.addEventListener('hashchange', function () {\n\t                            return handleHashChange(_this);\n\t                        });\n\t\n\t                        (0, _ondebounce2.default)(_this, 'change:hashPath', function (evt) {\n\t                            if (!evt || !evt.hashEvent) {\n\t                                location.hash = _this.hashPath;\n\t                            }\n\t                        }, true);\n\t                    } else if (type === 'history') {\n\t                        handlePopStateChange(_this);\n\t\n\t                        window.addEventListener('popstate', function (evt) {\n\t                            if (evt.state && evt.state.validPush) {\n\t                                handlePopStateChange(_this);\n\t                            }\n\t                        });\n\t\n\t                        (0, _ondebounce2.default)(_this, 'change:path', function (evt) {\n\t                            if (!evt || !evt.popEvent) {\n\t                                history.pushState({\n\t                                    validPush: true\n\t                                }, '', _this.path + location.hash);\n\t                            }\n\t                        }, true);\n\t                    }\n\t                })();\n\t            }\n\t\n\t            this.initialized = true;\n\t\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'subscribe',\n\t        value: function subscribe(obj, route) {\n\t            var _this2 = this;\n\t\n\t            var keys = route.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '').split('/');\n\t            var changeEvents = [];\n\t            var filteredKeys = keys.filter(function (key) {\n\t                return key !== '*';\n\t            });\n\t            var parts = [];\n\t\n\t            this.init();\n\t\n\t            for (var i = 0; i < filteredKeys.length; i++) {\n\t                var key = filteredKeys[i];\n\t                changeEvents.push('change:' + key);\n\t            }\n\t\n\t            (0, _on2.default)(obj, changeEvents, function (evt) {\n\t                if (evt && evt.routeSilent) {\n\t                    return;\n\t                }\n\t\n\t                var values = [];\n\t\n\t                for (var _i = 0; _i < keys.length; _i++) {\n\t                    var value = keys[_i] === '*' ? _this2.parts[_i] : obj[keys[_i]];\n\t\n\t                    if (value) {\n\t                        values.push(value);\n\t                    } else {\n\t                        break;\n\t                    }\n\t                }\n\t\n\t                _this2.parts = values;\n\t            });\n\t\n\t            for (var _i2 = 0; _i2 < keys.length; _i2++) {\n\t                parts.push(obj[keys[_i2]] === '*' ? this.parts[_i2] : obj[keys[_i2]] || this.parts[_i2]);\n\t            }\n\t\n\t            for (var _i3 = 0; _i3 < keys.length; _i3++) {\n\t                if (typeof obj[keys[_i3]] === 'undefined' && this.parts[_i3] && keys[_i3] !== '*') {\n\t                    (0, _set2.default)(obj, keys[_i3], this.parts[_i3], {\n\t                        routeSilent: true\n\t                    });\n\t                }\n\t            }\n\t\n\t            (0, _on2.default)(this, 'pathchange', function () {\n\t                for (var _i4 = 0; _i4 < keys.length; _i4++) {\n\t                    if (keys[_i4] !== '*') {\n\t                        (0, _set2.default)(obj, keys[_i4], _this2.parts[_i4] || null, {\n\t                            routeSilent: true\n\t                        });\n\t                    }\n\t                }\n\t            });\n\t\n\t            this.parts = parts;\n\t\n\t            return this;\n\t        }\n\t    }]);\n\t\n\t    return Router;\n\t}();\n\t\n\tRouter.history = new Router('history');\n\tRouter.hash = new Router('hash');\n\t\n\tmodule.exports = Router;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }\n/******/ ])\n});\n;if(typeof define === 'function' && define.amd){\n                                define('matreshka/calc', ['matreshka'], function(Matreshka){\n            return Matreshka.calc;\n        });define('matreshka/on', ['matreshka'], function(Matreshka){\n            return Matreshka.on;\n        });define('matreshka/ondebounce', ['matreshka'], function(Matreshka){\n            return Matreshka.onDebounce;\n        });define('matreshka/trigger', ['matreshka'], function(Matreshka){\n            return Matreshka.trigger;\n        });define('matreshka/set', ['matreshka'], function(Matreshka){\n            return Matreshka.set;\n        });\n                            }\n\n\n/** WEBPACK FOOTER **\n ** matreshka-router.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c711189dea18d2150f18\n **/","/* globals Matreshka */\n\nimport Router from './router';\n\nfunction initRouter(obj, route, type) {\n    Router[type || 'hash'].subscribe(obj, route);\n    return obj;\n}\n\n/* istanbul ignore if */\nif (typeof Matreshka === 'function') {\n    Matreshka.Router = Router;\n    Matreshka.initRouter = initRouter;\n}\n\nmodule.exports = initRouter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import calc from 'matreshka/calc';\nimport on from 'matreshka/on';\nimport onDebounce from 'matreshka/ondebounce';\nimport trigger from 'matreshka/trigger';\nimport set from 'matreshka/set';\n\nfunction handleHashChange(router) {\n    set(router, 'hashPath', window.location.hash, {\n        hashEvent: true\n    });\n}\n\nfunction handlePopStateChange(router) {\n    set(router, 'path', window.location.pathname, {\n        popEvent: true\n    });\n}\n\nclass Router {\n    parts = [];\n    path = '/';\n    hashPath = '!#/';\n\n    constructor(type) {\n        // singletone pattern for history and hash router\n        /* istanbul ignore if */\n        if (type in Router) {\n            return Router[type];\n        }\n\n        this.type = type;\n\n        return this;\n    }\n\n\n    init() {\n        if (this.initialized) {\n            return this;\n        }\n\n        const { type } = this;\n\n        calc(this, {\n            parts: {\n                source: 'path',\n                handler(path) {\n                    const fixed = path.replace(/\\/\\//g, '/')\n                        .replace(/^\\/|\\/$/g, '');\n\n                    return fixed ? fixed.split('/') : [];\n                }\n            },\n            path: {\n                source: 'parts',\n                handler(parts) {\n                    const nonEmptyParts = [];\n\n                    for (let i = 0; i < parts.length; i++) {\n                        if (parts[i]) {\n                            nonEmptyParts.push(parts[i]);\n                        } else {\n                            break;\n                        }\n                    }\n\n                    return nonEmptyParts.length ? (`/${nonEmptyParts.join('/')}/`) : '/';\n                }\n            }\n        }, { debounceCalc: false });\n\n        calc(this, {\n            hashPath: {\n                source: 'path',\n                handler(path) {\n                    return path && path !== '/' ? `#!${path}` : '';\n                }\n            },\n            path: {\n                source: 'hashPath',\n                handler(hashPath) {\n                    return hashPath ? hashPath.replace(/^#!/, '') : '';\n                }\n            }\n        }, { debounceCalc: false });\n\n        on(this, 'change:parts', evt => {\n            const { value, previousValue } = evt;\n            let equals = value.length === previousValue.length;\n\n            if (equals) {\n                for (let i = 0; i < value.length; i++) {\n                    if (value[i] !== previousValue[i]) {\n                        equals = false;\n                        break;\n                    }\n                }\n            }\n\n            if (!equals) {\n                trigger(this, 'pathchange');\n            }\n        });\n\n        if (typeof window !== 'undefined') {\n            const { history, location } = window;\n\n            if (type === 'hash') {\n                handleHashChange(this);\n\n                window.addEventListener('hashchange', () => handleHashChange(this));\n\n                onDebounce(this, 'change:hashPath', evt => {\n                    if (!evt || !evt.hashEvent) {\n                        location.hash = this.hashPath;\n                    }\n                }, true);\n            } else if (type === 'history') {\n                handlePopStateChange(this);\n\n                window.addEventListener('popstate', evt => {\n                    if (evt.state && evt.state.validPush) {\n                        handlePopStateChange(this);\n                    }\n                });\n\n                onDebounce(this, 'change:path', evt => {\n                    if (!evt || !evt.popEvent) {\n                        history.pushState({\n                            validPush: true\n                        }, '', this.path + location.hash);\n                    }\n                }, true);\n            }\n        }\n\n        this.initialized = true;\n\n        return this;\n    }\n\n    subscribe(obj, route) {\n        const keys = route.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '').split('/');\n        const changeEvents = [];\n        const filteredKeys = keys.filter(key => key !== '*');\n        const parts = [];\n\n        this.init();\n\n        for (let i = 0; i < filteredKeys.length; i++) {\n            const key = filteredKeys[i];\n            changeEvents.push(`change:${key}`);\n        }\n\n        on(obj, changeEvents, evt => {\n            if (evt && evt.routeSilent) {\n                return;\n            }\n\n            const values = [];\n\n            for (let i = 0; i < keys.length; i++) {\n                const value = keys[i] === '*' ? this.parts[i] : obj[keys[i]];\n\n                if (value) {\n                    values.push(value);\n                } else {\n                    break;\n                }\n            }\n\n            this.parts = values;\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            parts.push(obj[keys[i]] === '*' ? this.parts[i] : obj[keys[i]] || this.parts[i]);\n        }\n\n        for (let i = 0; i < keys.length; i++) {\n            if (typeof obj[keys[i]] === 'undefined' && this.parts[i] && keys[i] !== '*') {\n                set(obj, keys[i], this.parts[i], {\n                    routeSilent: true\n                });\n            }\n        }\n\n        on(this, 'pathchange', () => {\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '*') {\n                    set(obj, keys[i], this.parts[i] || null, {\n                        routeSilent: true\n                    });\n                }\n            }\n        });\n\n        this.parts = parts;\n\n        return this;\n    }\n}\n\nRouter.history = new Router('history');\nRouter.hash = new Router('hash');\n\nmodule.exports = Router;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/router.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":[\"Matreshka\",\"calc\"],\"commonjs\":\"matreshka/calc\",\"commonjs2\":\"matreshka/calc\",\"amd\":\"matreshka/calc\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":[\"Matreshka\",\"on\"],\"commonjs\":\"matreshka/on\",\"commonjs2\":\"matreshka/on\",\"amd\":\"matreshka/on\"}\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":[\"Matreshka\",\"onDebounce\"],\"commonjs\":\"matreshka/ondebounce\",\"commonjs2\":\"matreshka/ondebounce\",\"amd\":\"matreshka/ondebounce\"}\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":[\"Matreshka\",\"trigger\"],\"commonjs\":\"matreshka/trigger\",\"commonjs2\":\"matreshka/trigger\",\"amd\":\"matreshka/trigger\"}\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":[\"Matreshka\",\"set\"],\"commonjs\":\"matreshka/set\",\"commonjs2\":\"matreshka/set\",\"amd\":\"matreshka/set\"}\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}