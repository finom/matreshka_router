{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b6081df1c5ffc8cbb2c6","webpack:///./src/index.js","webpack:///./src/router.js","webpack:///./~/matreshka/calc/index.js","webpack:///./~/matreshka/_core/init.js","webpack:///./~/matreshka/_core/defs.js","webpack:///./~/matreshka/_helpers/checkobjecttype.js","webpack:///./~/matreshka/_helpers/matreshkaerror.js","webpack:///./~/matreshka/_helpers/debounce.js","webpack:///./~/matreshka/_helpers/apply.js","webpack:///./~/matreshka/calc/_addsource.js","webpack:///./~/matreshka/on/_addlistener.js","webpack:///./~/matreshka/trigger/_triggerone.js","webpack:///./~/matreshka/_core/defineprop.js","webpack:///./~/matreshka/set.js","webpack:///./~/matreshka/_helpers/is.js","webpack:///./~/matreshka/on/_domeventregexp.js","webpack:///./~/matreshka/on/_adddomlistener.js","webpack:///./~/matreshka/_dom/index.js","webpack:///./~/matreshka/_dom/default-dollar.js","webpack:///./~/matreshka/_dom/mq/index.js","webpack:///./~/matreshka/_dom/mq/_init.js","webpack:///./~/matreshka/_dom/mq/_html2nodelist.js","webpack:///./~/matreshka/_dom/mq/parsehtml.js","webpack:///./~/matreshka/_dom/mq/on.js","webpack:///./~/matreshka/_dom/mq/_data.js","webpack:///./~/matreshka/_dom/mq/off.js","webpack:///./~/matreshka/_dom/mq/add.js","webpack:///./~/matreshka/_helpers/assign.js","webpack:///./~/matreshka/on/_createdomeventhandler.js","webpack:///./~/matreshka/on/_addtreelistener.js","webpack:///./~/matreshka/on/_delegatelistener/index.js","webpack:///./~/matreshka/on/_delegatelistener/arrayaddhandler.js","webpack:///./~/matreshka/on/_delegatelistener/objectsethandler.js","webpack:///./~/matreshka/on/_delegatelistener/arrayremovehandler.js","webpack:///./~/matreshka/off/_undelegatelistener.js","webpack:///./~/matreshka/off/_removelistener.js","webpack:///./~/matreshka/off/_removedomlistener.js","webpack:///./~/matreshka/on/_delegatelistener/objectremovehandler.js","webpack:///./~/matreshka/on/_delegatelistener/changehandler.js","webpack:///./~/matreshka/off/_removetreelistener.js","webpack:///./~/matreshka/calc/_createcalchandler.js","webpack:///./~/matreshka/_helpers/deepfind.js","webpack:///./~/matreshka/on/index.js","webpack:///./~/matreshka/on/_splitbyspaceregexp.js","webpack:///./~/matreshka/ondebounce.js","webpack:///./~/matreshka/trigger/index.js","webpack:///./~/matreshka/trigger/_triggerdomevent.js","webpack:///./~/matreshka/trigger/_triggeronedomevent.js"],"names":["initRouter","obj","route","type","subscribe","Matreshka","Router","module","exports","handleHashChange","router","window","location","hash","hashEvent","handlePopStateChange","pathname","popEvent","parts","path","hashPath","initialized","source","handler","fixed","replace","split","nonEmptyParts","i","length","push","join","debounceCalc","value","evt","previousValue","equals","history","addEventListener","state","validPush","pushState","keys","changeEvents","filteredKeys","filter","key","init","routeSilent","values","initMK","require","checkObjectType","matreshkaError","debounce","addSource","createCalcHandler","defineProp","calc","object","target","sources","givenHandler","eventOptions","isMatreshka","Object","_target","_keys5","_i5","itemTarget","_ref","_l5","itemSource","itemHandler","itemEventOptions","event","commonEventOptions","mergedEventOptions","_result","_source2","_keys2","_l2","_i2","_key2","_result2","_source4","_keys4","_l4","_i4","_key4","def","_eventOptions","_eventOptions$setOnIn","setOnInit","undefined","_eventOptions$debounc","debounceCalcOnInit","_eventOptions$debounc2","_eventOptions$isTarge","isTargetPropertyHidden","defaultHandler","allSources","syncCalcHandler","debouncedCalcHandler","calcHandler","Array","_target3","_index2","_l7","sourceKey","sourceObject","_target2","_index","sourceKeyItem","_l6","defs","objectId","get","events","props","id","set","_afterInit","PseudoMap","prototype","matreshkaData","data","defineProperty","enumerable","writable","configurable","has","WeakMap","method","typeofObject","bindingErrorPrefix","calcErrorPrefix","eventsErrorPrefix","arrayErrorPrefix","getType","variable","getTypeError","variableName","expectedType","errors","_ref2","node","selectorInfo","_ref3","$nodes","missing","_ref4","_ref5","_ref6","_ref7","_ref8","Model","_ref9","_ref10","selector","_ref11","toRemove","_ref12","names","_ref13","_ref14","_ref15","_ref16","_ref17","getError","Error","apply","func","givenDelay","thisArg","timeout","delay","debounced","args","arguments","callContext","clearTimeout","setTimeout","context","call","addListener","addTreeListener","_eventOptions$exactKe","exactKey","isDelegated","deepPath","triggerOne","domEventReg","propModEventReg","name","callback","info","_initMK","allEvents","ctx","_info$skipChecks","skipChecks","domEventExecResult","exec","eventName","_domEventExecResult$","addDomListener","existingEvent","argCallback","_callback","eventCallback","test","triggerArgs","l","latestEvent","_event","_ctx","errorAccessor","noAccessor","propDef","mediator","bindings","getter","setter","isMatreshkaArray","v","fromSetter","is","_keys","_i","objKey","objVal","_l","skipMediator","fromMediator","force","forceHTML","silent","silentHTML","skipCalc","newValue","isChanged","_source","_key","self","extendedEventOptions","triggerChange","beforechangeStr","beforechangeEventName","changeBindingsEventName","changeStr","changeEventName","changeDepsEventName","changeDelegatedKeyEventName","changeTreeEventName","changeCommonEventName","changeDelegatedEventName","isPolyfill","v1","v2","dom","createDomEventHandler","createBindingHandlers","fullEventName","domEventHandler","bindHandler","$","on","unbindHandler","off","eventNamespace","_createBindingHandler","addBindListenerResult","addUnbindListenerResult","mq","neededMethods","globalDollar","useGlobalDollar","fn","parseHTML","Init","add","assign","html2nodeList","win","MQInit","result","nodeType","newContext","querySelectorAll","document","givenHTML","wrapMap","option","legend","thead","tr","td","col","area","_","html","createElement","optgroup","tbody","tfoot","colgroup","caption","th","ex","wrapper","innerHTML","children","childNodes","splitBySpaceReg","splitByDotReg","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","delegateHandler","randomID","Math","random","toString","scopeSelector","splittedSelector","matching","sel","setAttribute","removeAttribute","namesStr","delegate","uniqueDelegateHandler","_names$i$split","namespace","j","nodeID","b$","nodeIndex","exist","k","removeEventListener","splice","idMap","nodes","_node","_nodeID","TypeError","output","index","nextKey","nextValue","domEvent","originalEvent","matreshkaTriggerArgs","which","ctrlKey","altKey","preventDefault","stopPropagation","delegateListener","removeTreeListener","createTreeListener","restPath","newHandler","treeListener","changeEvent","extendedChangeEvent","listenPath","slice","arrayAddHandler","objectSetHandler","arrayRemoveHandler","objectRemoveHandler","changeHandler","givenPath","pathStr","_end","_j","delegatedData","added","isMatreshkaObject","defKey","item","undelegateListener","removed","removeListener","detatchDelegatedLogic","delegatedEventName","retain","delegatedAddEvtName","delegatedRemoveEvtName","_l3","delegatedSetEvtName","_delegatedRemoveEvtName","each","delegatedChangeEvtName","noTrigger","removeDomListener","allEventsName","allEventsItem","removeEventData","_removeEventData","binding","listenedPath","deepFind","_changeEvent$protecto","protector","protectKey","setEventOptions","targetValue","paths","current","givenNames","triggerOnInit","isNamesVarArray","namesObjName","namesObjCallback","delegatedEventParts","delegatedName","onDebounce","givenCallback","triggerDomEvent","trigger","_len","domEvtExecResult","_domEvtExecResult$","triggerOneDOMEvent","triggerDOMEvent","descendants","descendant","_window","Event","createEvent","initEvent","bubbles","cancelable","dispatchEvent"],"mappings":"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","file":"matreshka-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b6081df1c5ffc8cbb2c6\n **/","/* globals Matreshka */\n\nimport Router from './router';\n\nfunction initRouter(obj, route, type) {\n    Router[type || 'hash'].subscribe(obj, route);\n    return obj;\n}\n\n/* istanbul ignore if */\nif (typeof Matreshka === 'function') {\n    Matreshka.Router = Router;\n    Matreshka.initRouter = initRouter;\n}\n\nmodule.exports = initRouter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import calc from 'matreshka/calc';\nimport on from 'matreshka/on';\nimport onDebounce from 'matreshka/ondebounce';\nimport trigger from 'matreshka/trigger';\nimport set from 'matreshka/set';\n\nfunction handleHashChange(router) {\n    set(router, 'hashPath', window.location.hash, {\n        hashEvent: true\n    });\n}\n\nfunction handlePopStateChange(router) {\n    set(router, 'path', window.location.pathname, {\n        popEvent: true\n    });\n}\n\nclass Router {\n    parts = [];\n    path = '/';\n    hashPath = '!#/';\n\n    constructor(type) {\n        // singletone pattern for history and hash router\n        /* istanbul ignore if */\n        if (type in Router) {\n            return Router[type];\n        }\n\n        this.type = type;\n\n        return this;\n    }\n\n\n    init() {\n        if (this.initialized) {\n            return this;\n        }\n\n        const { type } = this;\n\n        calc(this, {\n            parts: {\n                source: 'path',\n                handler(path) {\n                    const fixed = path.replace(/\\/\\//g, '/')\n                        .replace(/^\\/|\\/$/g, '');\n\n                    return fixed ? fixed.split('/') : [];\n                }\n            },\n            path: {\n                source: 'parts',\n                handler(parts) {\n                    const nonEmptyParts = [];\n\n                    for (let i = 0; i < parts.length; i++) {\n                        if (parts[i]) {\n                            nonEmptyParts.push(parts[i]);\n                        } else {\n                            break;\n                        }\n                    }\n\n                    return nonEmptyParts.length ? (`/${nonEmptyParts.join('/')}/`) : '/';\n                }\n            }\n        }, { debounceCalc: false });\n\n        calc(this, {\n            hashPath: {\n                source: 'path',\n                handler(path) {\n                    return path && path !== '/' ? `#!${path}` : '';\n                }\n            },\n            path: {\n                source: 'hashPath',\n                handler(hashPath) {\n                    return hashPath ? hashPath.replace(/^#!/, '') : '';\n                }\n            }\n        }, { debounceCalc: false });\n\n        on(this, 'change:parts', evt => {\n            const { value, previousValue } = evt;\n            let equals = value.length === previousValue.length;\n\n            if (equals) {\n                for (let i = 0; i < value.length; i++) {\n                    if (value[i] !== previousValue[i]) {\n                        equals = false;\n                        break;\n                    }\n                }\n            }\n\n            if (!equals) {\n                trigger(this, 'pathchange');\n            }\n        });\n\n        if (typeof window !== 'undefined') {\n            const { history, location } = window;\n\n            if (type === 'hash') {\n                handleHashChange(this);\n\n                window.addEventListener('hashchange', () => handleHashChange(this));\n\n                onDebounce(this, 'change:hashPath', evt => {\n                    if (!evt || !evt.hashEvent) {\n                        location.hash = this.hashPath;\n                    }\n                }, true);\n            } else if (type === 'history') {\n                handlePopStateChange(this);\n\n                window.addEventListener('popstate', evt => {\n                    if (evt.state && evt.state.validPush) {\n                        handlePopStateChange(this);\n                    }\n                });\n\n                onDebounce(this, 'change:path', evt => {\n                    if (!evt || !evt.popEvent) {\n                        history.pushState({\n                            validPush: true\n                        }, '', this.path + location.hash);\n                    }\n                }, true);\n            }\n        }\n\n        this.initialized = true;\n\n        return this;\n    }\n\n    subscribe(obj, route) {\n        const keys = route.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '').split('/');\n        const changeEvents = [];\n        const filteredKeys = keys.filter(key => key !== '*');\n        const parts = [];\n\n        this.init();\n\n        for (let i = 0; i < filteredKeys.length; i++) {\n            const key = filteredKeys[i];\n            changeEvents.push(`change:${key}`);\n        }\n\n        on(obj, changeEvents, evt => {\n            if (evt && evt.routeSilent) {\n                return;\n            }\n\n            const values = [];\n\n            for (let i = 0; i < keys.length; i++) {\n                const value = keys[i] === '*' ? this.parts[i] : obj[keys[i]];\n\n                if (value) {\n                    values.push(value);\n                } else {\n                    break;\n                }\n            }\n\n            this.parts = values;\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            parts.push(obj[keys[i]] === '*' ? this.parts[i] : obj[keys[i]] || this.parts[i]);\n        }\n\n        for (let i = 0; i < keys.length; i++) {\n            if (typeof obj[keys[i]] === 'undefined' && this.parts[i] && keys[i] !== '*') {\n                set(obj, keys[i], this.parts[i], {\n                    routeSilent: true\n                });\n            }\n        }\n\n        on(this, 'pathchange', () => {\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '*') {\n                    set(obj, keys[i], this.parts[i] || null, {\n                        routeSilent: true\n                    });\n                }\n            }\n        });\n\n        this.parts = parts;\n\n        return this;\n    }\n}\n\nRouter.history = new Router('history');\nRouter.hash = new Router('hash');\n\nmodule.exports = Router;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/router.js\n **/","'use strict';\n\nvar initMK = require('../_core/init');\n\nvar checkObjectType = require('../_helpers/checkobjecttype');\n\nvar matreshkaError = require('../_helpers/matreshkaerror');\n\nvar debounce = require('../_helpers/debounce');\n\nvar addSource = require('./_addsource');\n\nvar createCalcHandler = require('./_createcalchandler');\n\nvar defineProp = require('../_core/defineprop');\n\n// defines a property which is dependend on other properties\nmodule.exports = calc;\nfunction calc(object, target, sources, givenHandler, eventOptions) {\n    if (typeof this === 'object' && this.isMatreshka) {\n        // when context is Matreshka instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        eventOptions = givenHandler;\n        givenHandler = sources;\n        sources = target;\n        target = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'calc');\n    }\n\n    if (target instanceof Object) {\n        for (var _target = target, _keys5 = Object.keys(_target), _i5 = 0, itemTarget, _ref, _l5 = _keys5.length; (itemTarget = _keys5[_i5], _ref = _target[itemTarget]), _i5 < _l5; _i5++) {\n            var itemSource = _ref.source;\n            var itemHandler = _ref.handler;\n            var itemEventOptions = _ref.event;\n\n            var commonEventOptions = sources;\n            var mergedEventOptions = {};\n\n            if (commonEventOptions) {\n                var _result = mergedEventOptions;\n                // extend event object by \"global\" event\n\n                for (var _source2 = commonEventOptions, _keys2 = Object.keys(_source2), _l2 = _keys2.length, _i2 = 0, _key2; _i2 < _l2; _i2++) {\n                    _key2 = _keys2[_i2];\n                    _result[_key2] = _source2[_key2];\n                }\n            }\n\n            if (itemEventOptions) {\n                var _result2 = mergedEventOptions;\n                // extend event object by \"local\" event (\"event\" key of an object)\n\n                for (var _source4 = itemEventOptions, _keys4 = Object.keys(_source4), _l4 = _keys4.length, _i4 = 0, _key4; _i4 < _l4; _i4++) {\n                    _key4 = _keys4[_i4];\n                    _result2[_key4] = _source4[_key4];\n                }\n            }\n\n            calc(object, itemTarget, itemSource, itemHandler, mergedEventOptions);\n        }\n        /*\n         * accept an object\n         * this.calc({target: { source, handler, event } }, commonEventOptions);\n         */\n\n\n        return object;\n    }\n\n    if (typeof target !== 'string') {\n        throw matreshkaError('calc:target_type', { target: target });\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    var def = initMK(object);\n    var _eventOptions = eventOptions;\n    var _eventOptions$setOnIn = _eventOptions.setOnInit;\n    var setOnInit = _eventOptions$setOnIn === undefined ? true : _eventOptions$setOnIn;\n    var _eventOptions$debounc = _eventOptions.debounceCalcOnInit;\n    var debounceCalcOnInit = _eventOptions$debounc === undefined ? false : _eventOptions$debounc;\n    var _eventOptions$debounc2 = _eventOptions.debounceCalc;\n    var debounceCalc = _eventOptions$debounc2 === undefined ? true : _eventOptions$debounc2;\n    var _eventOptions$isTarge = _eventOptions.isTargetPropertyHidden;\n    var isTargetPropertyHidden = _eventOptions$isTarge === undefined ? false : _eventOptions$isTarge;\n\n    var defaultHandler = function (value) {\n        return value;\n    };\n    var handler = givenHandler || defaultHandler;\n    var allSources = [];\n    var syncCalcHandler = createCalcHandler({\n        object: object,\n        eventOptions: eventOptions,\n        allSources: allSources,\n        target: target,\n        def: def,\n        handler: handler\n    });\n\n    var debouncedCalcHandler = void 0;\n    var calcHandler = void 0;\n\n    if (debounceCalcOnInit || debounceCalc) {\n        debouncedCalcHandler = debounce(syncCalcHandler);\n    }\n\n    defineProp(object, target, isTargetPropertyHidden);\n\n    if (!(sources instanceof Array)) {\n        sources = [sources]; // eslint-disable-line no-param-reassign\n    }\n\n    if (debounceCalc) {\n        calcHandler = debouncedCalcHandler;\n    } else {\n        calcHandler = syncCalcHandler;\n    }\n\n    for (var _target3 = sources, _index2 = 0, source, _l7 = _target3.length; source = _target3[_index2], _index2 < _l7; _index2++) {\n        if (typeof source === 'string') {\n            // source object is current object\n            addSource({\n                calcHandler: calcHandler,\n                allSources: allSources,\n                sourceKey: source,\n                sourceObject: object,\n                eventOptions: eventOptions\n            });\n        } else {\n            (function () {\n                // source object is external object\n                if (!source || typeof source !== 'object') {\n                    throw matreshkaError('calc:source_type', { source: source });\n                }\n\n                var sourceKey = source.key;\n                var sourceObject = source.object;\n                if (sourceKey instanceof Array) {\n                    for (var _target2 = sourceKey, _index = 0, sourceKeyItem, _l6 = _target2.length; sourceKeyItem = _target2[_index], _index < _l6; _index++) {\n                        addSource({\n                            calcHandler: calcHandler,\n                            allSources: allSources,\n                            sourceKey: sourceKeyItem,\n                            sourceObject: sourceObject,\n                            eventOptions: eventOptions\n                        });\n                    }\n                    // many keys are passed\n\n                } else {\n                    // one key is passed\n                    addSource({\n                        calcHandler: calcHandler,\n                        allSources: allSources,\n                        sourceKey: sourceKey,\n                        sourceObject: sourceObject,\n                        eventOptions: eventOptions\n                    });\n                }\n            })();\n        }\n    }\n\n    if (setOnInit) {\n        if (debounceCalcOnInit) {\n            debouncedCalcHandler();\n        } else {\n            syncCalcHandler();\n        }\n    }\n\n    return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/calc/index.js\n **/","'use strict';\n\nvar defs = require('./defs');\n\nvar objectId = 0;\n\n// this is common function which associates an object with its Matreshka definition\nmodule.exports = initMK;\nfunction initMK(object) {\n    var def = defs.get(object);\n    if (!def) {\n        def = {\n            // a property name of \"events\" object is an event name\n            // and a value is an array of event handlers\n            events: {\n                /* example: {\n                    callback: function,\n                    ctx: object,\n                    context: object2,\n                    name: \"example\",\n                    info: { ...extra data for an event... }\n                } */\n            },\n            // \"props\" contains special information about properties (getters, setters etc)\n            props: {\n                /* example: {\n                    value: object[key],\n                    mediator: null,\n                    bindings: [{\n                        node,\n                        binder,\n                        nodeHandler,\n                        objectHandler,\n                        ...other required info\n                    }]\n                }*/\n            },\n            id: objectId++\n        };\n\n        defs.set(object, def);\n\n        if (object._afterInit) {\n            object._afterInit(def);\n        }\n    }\n\n    return def;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_core/init.js\n **/","'use strict';\n\nfunction PseudoMap() {}\n\n// PseudoMap simulates WeakMap behavior with O(1) search complexity\n// it's needed to support @IE9 and @IE10\nvar _result = PseudoMap.prototype;\n\nfor (var _source2 = {\n    get: function (obj) {\n        return obj.matreshkaData;\n    },\n    set: function (obj, data) {\n        Object.defineProperty(obj, 'matreshkaData', {\n            value: data,\n            enumerable: false,\n            writable: false,\n            configurable: false\n        });\n    },\n    has: function (obj) {\n        return ('matreshkaData' in obj);\n    }\n}, _keys2 = Object.keys(_source2), _l2 = _keys2.length, _i2 = 0, _key2; _i2 < _l2; _i2++) {\n    _key2 = _keys2[_i2];\n    _result[_key2] = _source2[_key2];\n}\n\nmodule.exports = typeof WeakMap === 'undefined' ? new PseudoMap() : new WeakMap();\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_core/defs.js\n **/","'use strict';\n\nvar matreshkaError = require('./matreshkaerror');\n\n// checks type of a variable and throws an error if its type is not an object\nmodule.exports = checkObjectType;\nfunction checkObjectType(object, method) {\n    var typeofObject = object === null ? 'null' : typeof object;\n\n    if (typeofObject !== 'object' && typeofObject !== 'function') {\n        throw matreshkaError('common:object_type', {\n            object: object,\n            method: method\n        });\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/checkobjecttype.js\n **/","'use strict';\n\n/* eslint-disable prefer-template, max-len */\nvar bindingErrorPrefix = 'Binding error:';\nvar calcErrorPrefix = 'Calc error:';\nvar eventsErrorPrefix = 'Events error:';\nvar arrayErrorPrefix = 'Matreshka.Array error:';\n\nvar getType = function (variable) {\n    if (variable === null) {\n        return 'null';\n    }\n\n    return typeof variable;\n};\nvar getTypeError = function (variable, variableName, expectedType) {\n    return variableName + ' must have type \"' + expectedType + '\" but got \"' + getType(variable) + '\" instead.';\n};\n\nvar errors = {\n    'common:object_type': function (_ref) {\n        var object = _ref.object;\n        var method = _ref.method;\n        return 'Error in ' + method + ':' + getTypeError(object, 'object', 'object');\n    },\n    'common:call_class': function () {\n        return 'Cannot call a class as a function';\n    },\n    'common:use_magic_props': function () {\n        return '\"sandbox\" key (for all objects) and \"container\" key (for Matreshka.Array instances)' + ' are reserved for service use and cannot be used as usual properties';\n    },\n\n    'binding:node_missing': function (_ref2) {\n        var key = _ref2.key;\n        var node = _ref2.node;\n\n        var selectorInfo = typeof node === 'string' ? ' (given selector is \"' + node + '\")' : '';\n        return bindingErrorPrefix + ' node is missing for key \"' + key + '\"' + selectorInfo + '.';\n    },\n    'binding:falsy_key': function () {\n        return bindingErrorPrefix + ' \"key\" arg cannot be falsy';\n    },\n    'binding:instance_nodes_missing': function (_ref3) {\n        var $nodes = _ref3.$nodes;\n\n        var missing = !$nodes ? '$nodes' : 'nodes';\n        return bindingErrorPrefix + ' \"' + missing + '\" property of Matreshka instance is missing.' + ' It must be an object and must not be reassigned.';\n    },\n    'binding:magic_props_nodes_length': function () {\n        return bindingErrorPrefix + ' \"sandbox\" key (for all objects) and \"container\" key' + ' (for Matreshka.Array instances) cannot have more than one bound node';\n    },\n\n    'calc:target_type': function (_ref4) {\n        var target = _ref4.target;\n        return calcErrorPrefix + ' ' + getTypeError(target, 'target key', 'string');\n    },\n    'calc:source_key_type': function (_ref5) {\n        var sourceKey = _ref5.sourceKey;\n        return calcErrorPrefix + ' ' + getTypeError(sourceKey, 'source key', 'string');\n    },\n    'calc:source_object_type': function (_ref6) {\n        var sourceObject = _ref6.sourceObject;\n        return calcErrorPrefix + ' ' + getTypeError(sourceObject, 'source object', 'object');\n    },\n    'calc:source_type': function (_ref7) {\n        var source = _ref7.source;\n        return calcErrorPrefix + ' ' + getTypeError(source, 'source', 'object');\n    },\n\n    'array:model_type': function (_ref8) {\n        var Model = _ref8.Model;\n        return arrayErrorPrefix + ' ' + getTypeError(Model, 'Model', 'function');\n    },\n    'array:add_render_twice': function () {\n        return arrayErrorPrefix + ' one rendered object was inserted twice.';\n    },\n    'array:rendered_number_nodes': function (_ref9) {\n        var length = _ref9.length;\n        return arrayErrorPrefix + ' renderer returned ' + length + ' nodes instead of one.' + (' ' + (length > 0 ? 'To fix this wrap these nodes by single node.' : ''));\n    },\n    'array:renderer_node_missing': function (_ref10) {\n        var selector = _ref10.selector;\n        return arrayErrorPrefix + ' renderer node is missing (given selector is \"' + selector + '\")';\n    },\n\n    'pull:to_remove_type': function (_ref11) {\n        var toRemove = _ref11.toRemove;\n        return 'Error in pull: ' + getTypeError(toRemove, 'toRemove', 'number');\n    },\n\n    'restore:no_nodes': function () {\n        return arrayErrorPrefix + ' cannot find any container to restore an instance using \"restore\" method';\n    },\n\n    'trigger:names_type': function (_ref12) {\n        var names = _ref12.names;\n        return eventsErrorPrefix + ' ' + getTypeError(names, 'event name', 'string');\n    },\n\n    'on:names_type': function (_ref13) {\n        var names = _ref13.names;\n        return errors['trigger:names_type']({ names: names });\n    },\n\n    'removedatakeys:key_type': function (_ref14) {\n        var key = _ref14.key;\n        return 'Error in removeDataKeys: ' + getTypeError(key, 'key', 'string');\n    },\n\n    'adddatakeys:key_type': function (_ref15) {\n        var key = _ref15.key;\n        return 'Error in addDataKeys: ' + getTypeError(key, 'key', 'string');\n    },\n\n    'remove:key_type': function (_ref16) {\n        var key = _ref16.key;\n        return 'Error in remove: ' + getTypeError(key, 'key', 'string');\n    },\n\n    'mediate:key_type': function (_ref17) {\n        var key = _ref17.key;\n        return 'Error in mediate: ' + getTypeError(key, 'key', 'string');\n    }\n};\n\nmodule.exports = matreshkaError;\nfunction matreshkaError(key, data) {\n    var getError = errors[key];\n    if (!getError) {\n        throw Error('Unknown error \"' + key + '\". Please report about this on Github.');\n    }\n\n    return new Error(getError(data));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/matreshkaerror.js\n **/","'use strict';\n\nvar apply = require('./apply');\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds.\n// (c) https://davidwalsh.name/javascript-debounce-function\n\nmodule.exports = debounce;\nfunction debounce(func, givenDelay, thisArg) {\n    var timeout = void 0;\n    var delay = void 0;\n    if (typeof delay !== 'number') {\n        thisArg = givenDelay; // eslint-disable-line no-param-reassign\n        delay = 0;\n    }\n\n    delay = givenDelay || 0;\n\n    return function debounced() {\n        var args = arguments;\n        var callContext = thisArg || this;\n\n        clearTimeout(timeout);\n\n        timeout = setTimeout(function () {\n            return apply(func, callContext, args);\n        }, delay);\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/debounce.js\n **/","\"use strict\";\n\nmodule.exports = apply;\nfunction apply(func, context, args) {\n    if (context) {\n        switch (args.length) {\n            case 0:\n                return func.call(context);\n            case 1:\n                return func.call(context, args[0]);\n            case 2:\n                return func.call(context, args[0], args[1]);\n            case 3:\n                return func.call(context, args[0], args[1], args[2]);\n            case 4:\n                return func.call(context, args[0], args[1], args[2], args[3]);\n            default:\n                return func.apply(context, args); // eslint-disable-line prefer-spread\n        }\n    }\n\n    switch (args.length) {\n        case 0:\n            return func();\n        case 1:\n            return func(args[0]);\n        case 2:\n            return func(args[0], args[1]);\n        case 3:\n            return func(args[0], args[1], args[2]);\n        case 4:\n            return func(args[0], args[1], args[2], args[3]);\n        default:\n            return func.apply(undefined, args); // eslint-disable-line prefer-spread\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/apply.js\n **/","'use strict';\n\nvar addListener = require('../on/_addlistener');\n\nvar addTreeListener = require('../on/_addtreelistener');\n\nvar matreshkaError = require('../_helpers/matreshkaerror');\n\n// adds a source to a source list and adds needed event listener to a it\nmodule.exports = addSource;\nfunction addSource(_ref) {\n    var calcHandler = _ref.calcHandler;\n    var allSources = _ref.allSources;\n    var sourceKey = _ref.sourceKey;\n    var sourceObject = _ref.sourceObject;\n    var eventOptions = _ref.eventOptions;\n    var _eventOptions$exactKe = eventOptions.exactKey;\n    var exactKey = _eventOptions$exactKe === undefined ? false : _eventOptions$exactKe;\n\n    var isDelegated = false;\n\n    // source key must be a string\n    if (typeof sourceKey !== 'string') {\n        throw matreshkaError('calc:source_key_type', { sourceKey: sourceKey });\n    }\n\n    // source object must be an object\n    if (!sourceObject || typeof sourceObject !== 'object') {\n        throw matreshkaError('calc:source_object_type', { sourceObject: sourceObject });\n    }\n\n    if (!exactKey) {\n        var deepPath = sourceKey.split('.');\n\n        // if something like a.b.c is used as a key\n        if (deepPath.length > 1) {\n            isDelegated = true;\n            // TODO: Avoid collisions with bindings by using another event name\n            // ... instead of _change:tree:xxx\n            addTreeListener(sourceObject, deepPath, calcHandler);\n        } else {\n            exactKey = true;\n        }\n    }\n\n    if (exactKey) {\n        // normal handler\n        addListener(sourceObject, '_change:deps:' + sourceKey, calcHandler);\n    }\n\n    allSources.push({\n        sourceKey: sourceKey,\n        sourceObject: sourceObject,\n        isDelegated: isDelegated\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/calc/_addsource.js\n **/","'use strict';\n\nvar initMK = require('../_core/init');\n\nvar triggerOne = require('../trigger/_triggerone');\n\nvar defineProp = require('../_core/defineprop');\n\nvar domEventReg = require('./_domeventregexp');\n\n// property modifier event regexp\nvar propModEventReg // eslint-disable-next-line max-len\n= /^_change:deps:|^_change:bindings:|^_change:delegated:|^_change:common:|^_change:tree:|^change:|^beforechange:/;\n\n// adds simple event listener\n// used as core of event engine\nmodule.exports = addListener;\nfunction addListener(object, name, callback, context) {\n    var info = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n\n    var _initMK = initMK(object);\n\n    var allEvents = _initMK.events;\n\n    var ctx = context || object;\n    var events = allEvents[name];\n    var event = { callback: callback, context: context, ctx: ctx, name: name, info: info };\n    // skipChecks is used by internal methods for better performance\n    var _info$skipChecks = info.skipChecks;\n    var skipChecks = _info$skipChecks === undefined ? false : _info$skipChecks;\n\n\n    if (!skipChecks) {\n        var domEventExecResult = domEventReg.exec(name);\n\n        if (domEventExecResult) {\n            var eventName = domEventExecResult[1];\n            var _domEventExecResult$ = domEventExecResult[2];\n            var key = _domEventExecResult$ === undefined ? 'sandbox' : _domEventExecResult$;\n            var selector = domEventExecResult[3];\n            // fixing circular reference issue\n\n            var addDomListener = require('./_adddomlistener');\n\n            addDomListener(object, key, eventName, selector, callback, context, info);\n\n            return true;\n        }\n    }\n\n    // if there are events with the same name\n    if (events) {\n        if (!skipChecks) {\n            // if there are events with the same data, return false\n            for (var i = 0; i < events.length; i++) {\n                var existingEvent = events[i];\n                var argCallback = callback && callback._callback || callback;\n                var eventCallback = existingEvent.callback._callback || existingEvent.callback;\n                if (argCallback === eventCallback && existingEvent.context === context) {\n                    return false;\n                }\n            }\n        }\n\n        // if the event isn't found add it to the event list\n        events.push(event);\n    } else {\n        // if there are no events with the same name, create an array with only  one event\n        allEvents[name] = [event];\n    }\n\n    if (propModEventReg.test(name)) {\n        // define needed accessors for KEY\n        defineProp(object, name.replace(propModEventReg, ''));\n    }\n\n    // names prefixed by underscore mean \"private\" events\n    if (!skipChecks && name[0] !== '_') {\n        triggerOne(object, 'addevent:' + name, event);\n        triggerOne(object, 'addevent', event);\n    }\n\n    // if event is added successfully return true\n    return true;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_addlistener.js\n **/","'use strict';\n\nvar defs = require('../_core/defs');\n\nvar apply = require('../_helpers/apply');\n\n// triggers one event\nmodule.exports = triggerOne;\nfunction triggerOne(object, name, triggerArgs) {\n    var def = defs.get(object);\n    var events = def && def.events[name];\n\n    if (events) {\n        var l = events.length;\n        var i = 0;\n\n        // allow to pass both array of args and single arg as triggerArgs\n        if (triggerArgs instanceof Array) {\n            while (i < l) {\n                var event = triggerOne.latestEvent = events[i++];\n                var callback = event.callback;\n                var ctx = event.ctx;\n\n                apply(callback, ctx, triggerArgs);\n            }\n        } else {\n            while (i < l) {\n                var _event = triggerOne.latestEvent = events[i++];\n                var _callback = _event.callback;\n                var _ctx = _event.ctx;\n\n                _callback.call(_ctx, triggerArgs);\n            }\n        }\n    }\n}\n\n// latestEvent is used as required hack in somemethods\ntriggerOne.latestEvent = {\n    info: {},\n    name: null\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/trigger/_triggerone.js\n **/","'use strict';\n\nvar defs = require('./defs');\n\nvar set = require('../set');\n\nvar matreshkaError = require('../_helpers/matreshkaerror');\n\nfunction errorAccessor() {\n    throw matreshkaError('common:use_magic_props');\n}\n\n// the function defines needed descriptor for given property\nmodule.exports = defineProp;\nfunction defineProp(object, key, noAccessor) {\n    var def = defs.get(object);\n\n    // if no object definition do nothing\n    if (!def) {\n        return null;\n    }\n\n    if (!def.props[key]) {\n        (function () {\n            var propDef = def.props[key] = {\n                value: object[key],\n                mediator: null,\n                bindings: null\n            };\n            var getter = void 0;\n            var setter = void 0;\n\n            // make possible to throw an error on get and on set if sandbox (for all objects)\n            // or container (for Matreshka.Array instances) are used\n            if (key === 'sandbox' || object.isMatreshkaArray && key === 'container') {\n                getter = setter = errorAccessor;\n            }\n\n            if (!noAccessor) {\n                Object.defineProperty(object, key, {\n                    configurable: true,\n                    enumerable: true,\n                    get: function () {\n                        return getter ? getter() : propDef.value;\n                    },\n                    set: function (v) {\n                        return setter ? setter() : set(object, key, v, {\n                            fromSetter: true\n                        });\n                    }\n                });\n            }\n        })();\n    }\n\n    return def.props[key];\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_core/defineprop.js\n **/","'use strict';\n\nvar defs = require('./_core/defs');\n\nvar triggerOne = require('./trigger/_triggerone');\n\nvar checkObjectType = require('./_helpers/checkobjecttype');\n\nvar is = require('./_helpers/is');\n\n// the function sets new value for a property\n// since its performance is very critical we're checking events existence manually\nmodule.exports = set;\nfunction set(object, key, value, eventOptions) {\n    if (typeof this === 'object' && this.isMatreshka) {\n        // when context is Matreshka instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        eventOptions = value;\n        value = key;\n        key = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'set');\n    }\n\n    // if no key or falsy key is given\n    if (!key) {\n        return object;\n    }\n\n    // allow to use key-value object as another method variation\n    if (typeof key === 'object') {\n        for (var _target = key, _keys = Object.keys(_target), _i = 0, objKey, objVal, _l = _keys.length; (objKey = _keys[_i], objVal = _target[objKey]), _i < _l; _i++) {\n            set(object, objKey, objVal, value)\n        }\n\n        return object;\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    var def = defs.get(object);\n\n    // if no object definition then make simple assignment\n    if (!def) {\n        object[key] = value;\n        return object;\n    }\n\n    var props = def.props;\n    var events = def.events;\n\n    var propDef = props[key];\n\n    // if no property definition then make simple assignment\n    if (!propDef) {\n        object[key] = value;\n        return object;\n    }\n\n    var previousValue = propDef.value;\n    var mediator = propDef.mediator;\n\n    // possible flags, all of them are falsy by default\n\n    var _eventOptions = eventOptions;\n    var skipMediator = _eventOptions.skipMediator;\n    var fromMediator = _eventOptions.fromMediator;\n    var force = _eventOptions.force;\n    var forceHTML = _eventOptions.forceHTML;\n    var silent = _eventOptions.silent;\n    var silentHTML = _eventOptions.silentHTML;\n    var skipCalc = _eventOptions.skipCalc;\n\n\n    var newValue = void 0;\n\n    if (mediator && !is(value, previousValue) && !skipMediator && !fromMediator) {\n        newValue = mediator(value);\n    } else {\n        newValue = value;\n    }\n\n    var isChanged = !is(newValue, previousValue);\n\n    // add to eventOptions object some useful properties\n\n    var _keys2,\n        _l2,\n        _i2,\n        _source,\n        _key,\n        _result = {};\n\n    _result.value = newValue\n    _result.self = object\n    _result.previousValue = previousValue\n    _result.key = key\n    _result.isChanged = isChanged\n\n    for (_source = eventOptions, _keys2 = Object.keys(_source), _l2 = _keys2.length, _i2 = 0; _i2 < _l2; _i2++) {\n        _key = _keys2[_i2];\n        _result[_key] = _source[_key];\n    }\n\n    var extendedEventOptions = _result;\n\n    var triggerChange = (isChanged || force) && !silent;\n\n    // trigger beforechange:KEY and beforechange events\n    if (triggerChange) {\n        var beforechangeStr = 'beforechange';\n        var beforechangeEventName = beforechangeStr + ':' + key;\n\n        if (events[beforechangeEventName]) {\n            triggerOne(object, beforechangeEventName, extendedEventOptions);\n        }\n\n        if (events[beforechangeStr]) {\n            triggerOne(object, beforechangeStr, extendedEventOptions);\n        }\n    }\n\n    propDef.value = newValue;\n\n    // triger bindings\n    if (!silentHTML && (isChanged || forceHTML)) {\n        var changeBindingsEventName = '_change:bindings:' + key;\n        if (events[changeBindingsEventName]) {\n            triggerOne(object, changeBindingsEventName, extendedEventOptions);\n        }\n    }\n\n    // trigger change:KEY and change events\n    if (triggerChange) {\n        var changeStr = 'change';\n        var changeEventName = changeStr + ':' + key;\n        if (events[changeEventName]) {\n            triggerOne(object, changeEventName, extendedEventOptions);\n        }\n\n        if (events[changeStr]) {\n            triggerOne(object, changeStr, extendedEventOptions);\n        }\n    }\n\n    // trigger dependencies made by calc method\n    if ((isChanged || force) && !skipCalc) {\n        var changeDepsEventName = '_change:deps:' + key;\n        if (events[changeDepsEventName]) {\n            triggerOne(object, changeDepsEventName, extendedEventOptions);\n        }\n    }\n\n    if (isChanged) {\n        // trigger common delegated events logic\n        var changeDelegatedKeyEventName = '_change:delegated:' + key;\n        if (events[changeDelegatedKeyEventName]) {\n            triggerOne(object, changeDelegatedKeyEventName, extendedEventOptions);\n        }\n\n        // trigger tree change events logic\n        var changeTreeEventName = '_change:tree:' + key;\n        if (events[changeTreeEventName]) {\n            triggerOne(object, changeTreeEventName, extendedEventOptions);\n        }\n\n        // trigger other internal change events\n        var changeCommonEventName = '_change:common:' + key;\n        if (events[changeCommonEventName]) {\n            triggerOne(object, changeCommonEventName, extendedEventOptions);\n        }\n\n        // trigger delegated logic for asterisk events (*.*.*@foo)\n        // TODO: Confusing events names (\"_change:delegated\", \"_change:common:KEY\" etc)\n        var changeDelegatedEventName = '_change:delegated';\n        if (events[changeDelegatedEventName]) {\n            triggerOne(object, changeDelegatedEventName, extendedEventOptions);\n        }\n    }\n\n    return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/set.js\n **/","\"use strict\";\n\n// determines whether two values are the same value\n/* istanbul ignore next */\n// eslint-disable-next-line\nvar isPolyfill = function (v1, v2) {\n  return v1 === 0 && v2 === 0 ? 1 / v1 === 1 / v2 : v1 !== v1 && v2 !== v2 || v1 === v2;\n};\n\nmodule.exports = Object.is || isPolyfill;\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/is.js\n **/","\"use strict\";\n\n// the regexp allows to parse things like \"click::x(.y)\"\n// it's shared between few modules\nmodule.exports = /([^::]+)::([^\\(\\)]+)?(?:\\((.*)\\))?/;\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_domeventregexp.js\n **/","'use strict';\n\nvar initMK = require('../_core/init');\n\nvar defineProp = require('../_core/defineprop');\n\nvar addListener = require('./_addlistener');\n\nvar dom = require('../_dom');\n\nvar createDomEventHandler = require('./_createdomeventhandler');\n\n// returns an object with event handlers used at addDomListener\nfunction createBindingHandlers(_ref) {\n    var fullEventName = _ref.fullEventName;\n    var domEventHandler = _ref.domEventHandler;\n    var selector = _ref.selector;\n\n    return {\n        bindHandler: function () {\n            var evt = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n            var node = evt.node;\n\n            if (node) {\n                dom.$(node).on(fullEventName, selector, domEventHandler);\n            }\n        },\n        unbindHandler: function () {\n            var evt = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n            var node = evt.node;\n\n            if (node) {\n                dom.$(node).off(fullEventName, selector, domEventHandler);\n            }\n        }\n    };\n}\n\n// adds DOM event listener for nodes bound to given property\nmodule.exports = addDomListener;\nfunction addDomListener(object, key, eventName, selector, callback, context, info) {\n    var def = initMK(object);\n    var propDef = defineProp(object, key);\n\n    var domEventHandler = createDomEventHandler({\n        key: key,\n        object: object,\n        callback: callback,\n        context: context\n    });\n\n    // making possible to remove this event listener\n    domEventHandler._callback = callback;\n\n    var eventNamespace = def.id + key;\n    var fullEventName = eventName + '.' + eventNamespace;\n\n    var _createBindingHandler = createBindingHandlers({\n        fullEventName: fullEventName,\n        domEventHandler: domEventHandler,\n        selector: selector\n    });\n\n    var bindHandler = _createBindingHandler.bindHandler;\n    var unbindHandler = _createBindingHandler.unbindHandler;\n\n    var addBindListenerResult = addListener(object, 'bind:' + key, bindHandler, context, info);\n    var addUnbindListenerResult = addListener(object, 'unbind:' + key, unbindHandler, context, info);\n\n    // if events are added successfully then run bindHandler for every node immediately\n    // TODO: Describe why do we need addBindListenerResult and addUnbindListenerResult\n    if (addBindListenerResult && addUnbindListenerResult) {\n        var bindings = propDef.bindings;\n\n        if (bindings) {\n            for (var _target = bindings, _index = 0, _ref2, _l = _target.length; _ref2 = _target[_index], _index < _l; _index++) {\n                var node = _ref2.node;\n                return bindHandler({ node: node });\n            }\n        }\n    }\n\n    return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_adddomlistener.js\n **/","'use strict';\n\nvar $ = require('./default-dollar');\n\nmodule.exports = { $: $ };\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/index.js\n **/","'use strict';\n\nvar mq = require('./mq');\n\n// check existence of needed methods in $ global variable\n// to use it for internal needs\n\nvar neededMethods = ['on', 'off', 'add']; /* global $ */\n\n\nvar globalDollar = typeof $ === 'function' ? $ : null;\nvar useGlobalDollar = true;\n\n/* istanbul ignore if */\nif (globalDollar) {\n    var fn = globalDollar.fn || globalDollar.prototype;\n    for (var i = 0; i < neededMethods.length; i++) {\n        if (!fn[neededMethods[i]]) {\n            useGlobalDollar = false;\n            break;\n        }\n    }\n\n    if (!globalDollar.parseHTML) {\n        // Zepto doesn't include its own parseHTML\n        // TODO: Assignment of parseHTML is side effect\n        globalDollar.parseHTML = mq.parseHTML;\n    }\n} else {\n    useGlobalDollar = false;\n}\n\nmodule.exports = useGlobalDollar ? globalDollar : mq;\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/default-dollar.js\n **/","'use strict';\n\nvar Init = require('./_init');\n\nvar parseHTML = require('./parsehtml');\n\nvar on = require('./on');\n\nvar off = require('./off');\n\nvar add = require('./add');\n\nvar assign = require('../../_helpers/assign');\n\n// tiny jQuery replacement for Matreshka\n// mq previously called balalaika.js\nmodule.exports = mq;\nfunction mq(selector, context) {\n    return new Init(selector, context);\n}\n\nmq.parseHTML = parseHTML;\n\nassign(Init.prototype, {\n    on: on,\n    off: off,\n    add: add\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/index.js\n **/","'use strict';\n\nvar html2nodeList = require('./_html2nodelist');\n\nvar win = window;\n\n// function-constructor of mq library\n// accepts many kinds of arguments (selector, html, function)\nfunction MQInit(selector, context) {\n    var result = void 0;\n\n    if (selector) {\n        if (selector.nodeType || typeof win === 'object' && selector === win) {\n            result = [selector];\n        } else if (typeof selector === 'string') {\n            if (/</.test(selector)) {\n                result = html2nodeList(selector);\n            } else if (context) {\n                var newContext = new MQInit(context)[0];\n\n                if (newContext) {\n                    result = newContext.querySelectorAll(selector);\n                }\n            } else {\n                result = win.document.querySelectorAll(selector);\n            }\n        } else if ('length' in selector) {\n            // if it's something array-like (eg NodeList)\n            result = selector;\n        } else {\n            // this is somethong another (eg Attr)\n            result = [selector];\n        }\n    }\n\n    var length = result && result.length;\n\n    if (length) {\n        for (var i = 0; i < length; i++) {\n            this.push(result[i]);\n        }\n    }\n}\n\nMQInit.prototype = [];\n\nmodule.exports = MQInit;\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/_init.js\n **/","'use strict';\n\n// converts HTML string to NodeList instance\nmodule.exports = html2nodeList;\nfunction html2nodeList(givenHTML) {\n    // wrapMap is taken from jQuery\n    var wrapMap = {\n        option: [1, '<select multiple=\"multiple\">', '</select>'],\n        legend: [1, '<fieldset>', '</fieldset>'],\n        thead: [1, '<table>', '</table>'],\n        tr: [2, '<table><tbody>', '</tbody></table>'],\n        td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n        col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n        area: [1, '<map>', '</map>'],\n        _: [0, '', '']\n    };\n\n    var html = givenHTML.replace(/^\\s+|\\s+$/g, '');\n    var node = window.document.createElement('div');\n    var i = void 0;\n\n    wrapMap.optgroup = wrapMap.option;\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n    var ex = /<([\\w:]+)/.exec(html);\n    var wrapper = ex && wrapMap[ex[1]] || wrapMap._;\n\n    node.innerHTML = wrapper[1] + html + wrapper[2];\n\n    i = wrapper[0];\n\n    while (i--) {\n        node = node.children[0];\n    }\n\n    return node.childNodes;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/_html2nodelist.js\n **/","'use strict';\n\nvar html2nodeList = require('./_html2nodelist');\n\nvar Init = require('./_init');\n\n// parses given HTML and returns mq instance\nmodule.exports = parseHTML;\nfunction parseHTML(html) {\n    return new Init(html2nodeList(html));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/parsehtml.js\n **/","'use strict';\n\nvar data = require('./_data');\n\nvar splitBySpaceReg = /\\s+/;\nvar splitByDotReg = /\\.(.+)/;\n\n// checks an element against a selector\nfunction is(node, selector) {\n    return (node.matches || node.webkitMatchesSelector || node.mozMatchesSelector || node.msMatchesSelector || node.oMatchesSelector).call(node, selector);\n}\n\n// the function is used when a selector is given\nfunction delegateHandler(evt, selector, handler) {\n    var randomID = Math.random().toString().replace('0.', 'x');\n    var scopeSelector = '[' + randomID + '=\"' + randomID + '\"] ';\n    var splittedSelector = selector.split(',');\n\n    var matching = '';\n\n    for (var i = 0; i < splittedSelector.length; i++) {\n        var sel = splittedSelector[i];\n        matching += '' + (i === 0 ? '' : ',') + scopeSelector + sel + ',' + scopeSelector + sel + ' *';\n    }\n\n    this.setAttribute(randomID, randomID);\n\n    if (is(evt.target, matching)) {\n        handler.call(this, evt);\n    }\n\n    this.removeAttribute(randomID);\n}\n\n// adds event listener to a set of elemnts\nmodule.exports = on;\nfunction on(namesStr, selector, handler) {\n    var names = namesStr.split(splitBySpaceReg);\n    var delegate = void 0;\n\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    if (selector) {\n        delegate = function uniqueDelegateHandler(evt) {\n            delegateHandler.call(this, evt, selector, handler);\n        };\n    }\n\n    for (var i = 0; i < names.length; i++) {\n        var _names$i$split = names[i].split(splitByDotReg);\n\n        var name = _names$i$split[0];\n        var namespace = _names$i$split[1];\n\n\n        for (var j = 0; j < this.length; j++) {\n            var node = this[j];\n            var nodeID = node.b$ = node.b$ || ++data.nodeIndex;\n            var events = data.allEvents[name + nodeID] = data.allEvents[name + nodeID] || [];\n\n            var exist = false;\n\n            for (var k = 0; k < events.length; k++) {\n                var event = events[k];\n\n                if (handler === event.handler && (!selector || selector === event.selector)) {\n                    exist = true;\n                    break;\n                }\n            }\n\n            if (!exist) {\n                events.push({\n                    delegate: delegate,\n                    handler: handler,\n                    namespace: namespace,\n                    selector: selector\n                });\n\n                node.addEventListener(name, delegate || handler, false);\n            }\n        }\n    }\n\n    return this;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/on.js\n **/","\"use strict\";\n\n// an object allows to share data between modules; it's needed because we use\n// simplified ES modules there and cannot import and share a number\nmodule.exports = {\n    nodeIndex: 0,\n    allEvents: {}\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/_data.js\n **/","'use strict';\n\nvar data = require('./_data');\n\nvar splitBySpaceReg = /\\s+/;\nvar splitByDotReg = /\\.(.+)/;\n\n// removes event handler from a set of elements\nmodule.exports = off;\nfunction off(namesStr, selector, handler) {\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    var names = namesStr.split(splitBySpaceReg);\n\n    for (var i = 0; i < names.length; i++) {\n        var _names$i$split = names[i].split(splitByDotReg);\n\n        var name = _names$i$split[0];\n        var namespace = _names$i$split[1];\n\n\n        for (var j = 0; j < this.length; j++) {\n            var node = this[j];\n            var events = data.allEvents[name + node.b$];\n\n            if (events) {\n                for (var k = 0; k < events.length; k++) {\n                    var event = events[k];\n                    if ((!handler || handler === event.handler || handler === event.delegate) && (!namespace || namespace === event.namespace) && (!selector || selector === event.selector)) {\n                        node.removeEventListener(name, event.delegate || event.handler);\n                        events.splice(k--, 1);\n                    }\n                }\n            } else if (!namespace && !selector) {\n                node.removeEventListener(name, handler);\n            }\n        }\n    }\n\n    return this;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/off.js\n **/","'use strict';\n\nvar Init = require('./_init');\n\nvar data = require('./_data');\n\n// adds unique nodes to mq collection\nmodule.exports = add;\nfunction add(selector) {\n    var idMap = {};\n\n    var result = void 0;\n\n    var nodes = new Init(selector);\n\n    if (this.length) {\n        result = new Init();\n        for (var i = 0; i < this.length; i++) {\n            var node = this[i];\n            var nodeID = node.b$ = node.b$ || ++data.nodeIndex;\n            idMap[nodeID] = 1;\n            result.push(node);\n        }\n\n        for (var _i = 0; _i < nodes.length; _i++) {\n            var _node = nodes[_i];\n            var _nodeID = _node.b$ = _node.b$ || ++data.nodeIndex;\n            if (!idMap[_nodeID]) {\n                idMap[_nodeID] = 1;\n                result.push(_node);\n            }\n        }\n    } else {\n        result = nodes;\n    }\n\n    return result;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_dom/mq/add.js\n **/","'use strict';\n\n// Object.assign polyfyll\n/* istanbul ignore next */\nvar assign = Object.assign || function assign(target) {\n    /* istanbul ignore next */\n    if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var output = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n        if (source !== undefined && source !== null) {\n            for (var _target = source, _keys = Object.keys(_target), _i = 0, nextKey, nextValue, _l = _keys.length; (nextKey = _keys[_i], nextValue = _target[nextKey]), _i < _l; _i++) {\n                output[nextKey] = nextValue;\n            }\n        }\n    }\n\n    return output;\n};\n\nmodule.exports = assign;\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/assign.js\n **/","'use strict';\n\nvar apply = require('../_helpers/apply');\n\n// returns DOM event handler\nmodule.exports = createDomEventHandler;\nfunction createDomEventHandler(_ref) {\n    var key = _ref.key;\n    var object = _ref.object;\n    var callback = _ref.callback;\n    var context = _ref.context;\n\n    return function domEventHandler(domEvent) {\n        var originalEvent = domEvent.originalEvent || domEvent;\n        // matreshkaTriggerArgs are created when DOM event is triggered by trigger method\n        var triggerArgs = originalEvent.matreshkaTriggerArgs;\n        var which = domEvent.which;\n        var target = domEvent.target;\n        var ctrlKey = domEvent.ctrlKey;\n        var altKey = domEvent.altKey;\n\n\n        if (triggerArgs) {\n            // if args are passed to trigger method then pass them to an event handler\n            apply(callback, context, triggerArgs);\n        } else {\n            // use the following object as an arg for event handler\n            callback.call(context, {\n                self: object,\n                node: this,\n                preventDefault: function () {\n                    return domEvent.preventDefault();\n                },\n                stopPropagation: function () {\n                    return domEvent.stopPropagation();\n                },\n                key: key,\n                domEvent: domEvent,\n                originalEvent: originalEvent,\n                which: which,\n                target: target,\n                ctrlKey: ctrlKey,\n                altKey: altKey\n            });\n        }\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_createdomeventhandler.js\n **/","'use strict';\n\nvar delegateListener = require('./_delegatelistener');\n\nvar removeTreeListener = require('../off/_removetreelistener');\n\n// creates tree listener\nfunction createTreeListener(_ref) {\n    var handler = _ref.handler;\n    var restPath = _ref.restPath;\n\n    var newHandler = function treeListener(changeEvent) {\n        var _keys,\n            _l,\n            _i,\n            _source,\n            _key,\n            _result = {};\n\n        _result.restPath = restPath\n\n        for (_source = changeEvent, _keys = Object.keys(_source), _l = _keys.length, _i = 0; _i < _l; _i++) {\n            _key = _keys[_i];\n            _result[_key] = _source[_key];\n        }\n\n        var extendedChangeEvent = _result;\n        var previousValue = changeEvent.previousValue;\n        var value = changeEvent.value;\n\n        // removes listener for all branches of the path on old object\n\n        if (previousValue && typeof previousValue === 'object') {\n            removeTreeListener(previousValue, restPath, handler);\n        }\n\n        // adds listener for all branches of \"restPath\" path on newly assigned object\n        if (value && typeof value === 'object') {\n            addTreeListener(value, restPath, handler);\n        }\n\n        // call original handler\n        handler.call(this, extendedChangeEvent);\n    };\n\n    newHandler._callback = handler;\n\n    return newHandler;\n}\n\n// listens changes for all branches of given path\n// TODO: Pass context to addTreeListener\n// one of the most hard functions to understand\nmodule.exports = addTreeListener;\nfunction addTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over all keys and delegate listener for all objects of given branch\n    for (var i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice method is slow\n        var listenPath = deepPath.slice(0, i);\n        var restPath = deepPath.slice(i + 1);\n\n        delegateListener(object, listenPath, '_change:tree:' + deepPath[i], createTreeListener({\n            handler: handler,\n            restPath: restPath\n        }));\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_addtreelistener.js\n **/","'use strict';\n\nvar addListener = require('../_addlistener');\n\nvar defs = require('../../_core/defs');\n\nvar arrayAddHandler = require('./arrayaddhandler');\n\nvar objectSetHandler = require('./objectsethandler');\n\nvar arrayRemoveHandler = require('./arrayremovehandler');\n\nvar objectRemoveHandler = require('./objectremovehandler');\n\nvar changeHandler = require('./changehandler');\n\n// adds delegated event listener to an object by given path\nmodule.exports = delegateListener;\nfunction delegateListener(object, givenPath, name, callback, context) {\n    var info = arguments.length <= 5 || arguments[5] === undefined ? {} : arguments[5];\n\n    // if typeof path is string and path is not empty string then split it\n    var path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then add simple listener\n        addListener(object, name, callback, context, info);\n    } else {\n        // else do all magic\n        var key = path[0];\n        var pathStr = void 0; // needed for undelegation\n\n        if (path.length > 1) {\n            var _source = path,\n                _l = _source.length,\n                _i = 1 || 0,\n                _end = null || _l,\n                _j = 0,\n                _result = Array(_end - _i);\n\n            while (_i < _end) {\n                _result[_j++] = _source[_i++];\n            }\n\n            path = _result;\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n        var delegatedData = {\n            path: path,\n            name: name,\n            callback: callback,\n            context: context,\n            info: info,\n            object: object\n        };\n\n        if (key === '*') {\n            // handling asterisk events\n            if (object.isMatreshkaArray) {\n                // the event is triggered when something is added to an array\n                addListener(object, '_asterisk:add', arrayAddHandler, null, {\n                    delegatedData: delegatedData,\n                    pathStr: pathStr\n                });\n\n                // the event is triggered when something is removed from an array\n                addListener(object, '_asterisk:remove', arrayRemoveHandler, null, {\n                    delegatedData: delegatedData,\n                    pathStr: pathStr\n                });\n\n                // call handler manually to delegate listener for currently existing data props\n                arrayAddHandler({\n                    added: object\n                }, delegatedData);\n            } else if (object.isMatreshkaObject) {\n                var def = defs.get(object);\n\n                // the event is triggered when data prop is changed\n                addListener(object, '_asterisk:set', objectSetHandler, null, {\n                    delegatedData: delegatedData,\n                    pathStr: pathStr\n                });\n\n                // the event is triggered when data prop is removed\n                addListener(object, '_asterisk:remove', objectRemoveHandler, null, {\n                    delegatedData: delegatedData,\n                    pathStr: pathStr\n                });\n\n                // delegate listener for currently existing data props\n\n                for (var _target = def.keys, _keys = Object.keys(_target), _i2 = 0, defKey, _, _l2 = _keys.length; (defKey = _keys[_i2], _ = _target[defKey]), _i2 < _l2; _i2++) {\n                    var item = object[defKey];\n                    if (item && typeof item === 'object') {\n                        delegateListener(item, path, name, callback, context, info);\n                    }\n                }\n            }\n        } else {\n            // handling non-asterisk delegated event\n\n            // the event is triggered by \"set\"\n            addListener(object, '_change:delegated:' + key, changeHandler, null, {\n                delegatedData: delegatedData,\n                pathStr: pathStr\n            });\n\n            // call handler manually\n            changeHandler({\n                value: object[key]\n            }, delegatedData);\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_delegatelistener/index.js\n **/","'use strict';\n\nvar triggerOne = require('../../trigger/_triggerone');\n\n// the function is called when something is added to an array\n// it delegates asterisk listener for newly added items\nmodule.exports = arrayAddHandler;\nfunction arrayAddHandler(_ref) {\n    var added = _ref.added;\n\n    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? triggerOne.latestEvent.info.delegatedData : arguments[1];\n\n    var path = _ref2.path;\n    var name = _ref2.name;\n    var callback = _ref2.callback;\n    var context = _ref2.context;\n    var info = _ref2.info;\n\n    for (var _target = added, _index = 0, item, _l = _target.length; item = _target[_index], _index < _l; _index++) {\n        if (item && typeof item === 'object') {\n            var delegateListener = require('./'); // fixing circular ref\n\n            delegateListener(item, path, name, callback, context, info);\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_delegatelistener/arrayaddhandler.js\n **/","'use strict';\n\nvar triggerOne = require('../../trigger/_triggerone');\n\nvar defs = require('../../_core/defs');\n\n// the function is called when data property is changed in Matreshka.Object\n// it delegates asterisk listener for new value\nmodule.exports = objectSetHandler;\nfunction objectSetHandler(_ref) {\n    var key = _ref.key;\n\n    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? triggerOne.latestEvent.info.delegatedData : arguments[1];\n\n    var path = _ref2.path;\n    var name = _ref2.name;\n    var callback = _ref2.callback;\n    var context = _ref2.context;\n    var info = _ref2.info;\n    var object = _ref2.object;\n\n    if (key) {\n        var item = object[key];\n\n        if (item && typeof item === 'object') {\n            var def = defs.get(object);\n            if (key in def.keys) {\n                var delegateListener = require('./'); // fixing circular ref\n\n                delegateListener(item, path, name, callback, context, info);\n            }\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_delegatelistener/objectsethandler.js\n **/","'use strict';\n\nvar undelegateListener = require('../../off/_undelegatelistener');\n\nvar triggerOne = require('../../trigger/_triggerone');\n\n// the function is called when something is removed from an array\n// it undelegates asterisk listener from removed items\nmodule.exports = arrayRemoveHandler;\nfunction arrayRemoveHandler(_ref) {\n    var removed = _ref.removed;\n\n    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? triggerOne.latestEvent.info.delegatedData : arguments[1];\n\n    var path = _ref2.path;\n    var name = _ref2.name;\n    var callback = _ref2.callback;\n    var context = _ref2.context;\n    var info = _ref2.info;\n\n    if (removed && removed.length) {\n        for (var _target = removed, _index = 0, item, _l = _target.length; item = _target[_index], _index < _l; _index++) {\n            if (item && typeof item === 'object') {\n                undelegateListener(item, path, name, callback, context, info);\n            }\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_delegatelistener/arrayremovehandler.js\n **/","'use strict';\n\nvar defs = require('../_core/defs');\n\nvar removeListener = require('./_removelistener');\n\n// the function removes internally used events such as _asterisk:add\nfunction detatchDelegatedLogic(_ref) {\n    var delegatedEventName = _ref.delegatedEventName;\n    var pathStr = _ref.pathStr;\n    var allEvents = _ref.allEvents;\n\n    var retain = [];\n    var events = allEvents[delegatedEventName];\n\n    for (var _target = events, _index = 0, event, _l = _target.length; event = _target[_index], _index < _l; _index++) {\n        // pathStr is assigned to info in delegateListener\n        if (event.info.pathStr !== pathStr) {\n            retain.push(event);\n        }\n    }\n\n    if (retain.length) {\n        allEvents[delegatedEventName] = retain;\n    } else {\n        delete allEvents[delegatedEventName];\n    }\n}\n\n// removes delegated event listener from an object by given path\nmodule.exports = undelegateListener;\nfunction undelegateListener(object, givenPath, name, callback, context) {\n    var info = arguments.length <= 5 || arguments[5] === undefined ? {} : arguments[5];\n\n    var def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return;\n    }\n\n    var allEvents = def.events;\n\n\n    var path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then remove listener\n        removeListener(object, name, callback, context, info);\n    } else {\n        // else do all magic\n        var key = path[0];\n        var pathStr = void 0;\n\n        if (path.length > 1) {\n            var _source = path,\n                _l2 = _source.length,\n                _i = 1 || 0,\n                _end = null || _l2,\n                _j = 0,\n                _result = Array(_end - _i);\n\n            while (_i < _end) {\n                _result[_j++] = _source[_i++];\n            }\n\n            path = _result;\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n        if (key === '*') {\n            // remove asterisk events\n            if (object.isMatreshkaArray) {\n                var delegatedAddEvtName = '_asterisk:add';\n                if (allEvents[delegatedAddEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedAddEvtName,\n                        pathStr: pathStr,\n                        allEvents: allEvents\n                    });\n                }\n\n                var delegatedRemoveEvtName = '_asterisk:remove';\n                if (allEvents[delegatedRemoveEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedRemoveEvtName,\n                        pathStr: pathStr,\n                        allEvents: allEvents\n                    });\n                }\n\n                // undelegate asterisk events for existing items\n                if (object.length) {\n                    for (var _target2 = object, _index2 = 0, item, _l3 = _target2.length; item = _target2[_index2], _index2 < _l3; _index2++) {\n                        if (item && typeof item === 'object') {\n                            undelegateListener(item, path, name, callback, context, info);\n                        }\n                    }\n                }\n            } else if (object.isMatreshkaObject) {\n                var delegatedSetEvtName = '_asterisk:set';\n                if (allEvents[delegatedSetEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedSetEvtName,\n                        pathStr: pathStr,\n                        allEvents: allEvents\n                    });\n                }\n\n                var _delegatedRemoveEvtName = '_asterisk:remove';\n                if (allEvents[_delegatedRemoveEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: _delegatedRemoveEvtName,\n                        pathStr: pathStr,\n                        allEvents: allEvents\n                    });\n                }\n\n                object.each(function (item) {\n                    if (item && typeof item === 'object') {\n                        undelegateListener(item, path, name, callback, context, info);\n                    }\n                });\n            }\n        } else {\n            // remove non-asterisk delegated events\n\n            var delegatedChangeEvtName = '_change:delegated:' + key;\n            if (allEvents[delegatedChangeEvtName]) {\n                detatchDelegatedLogic({\n                    delegatedEventName: delegatedChangeEvtName,\n                    pathStr: pathStr,\n                    allEvents: allEvents\n                });\n            }\n\n            if (typeof object[key] === 'object') {\n                undelegateListener(object[key], path, name, callback, context, info);\n            }\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/off/_undelegatelistener.js\n **/","'use strict';\n\nvar defs = require('../_core/defs');\n\nvar triggerOne = require('../trigger/_triggerone');\n\nvar domEventReg = require('../on/_domeventregexp');\n\n// removes simple event listener from an object\nmodule.exports = removeListener;\nfunction removeListener(object, name, callback, context, info) {\n    var def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return false;\n    }\n\n    var allEvents = def.events;\n\n    var events = allEvents[name];\n    var retain = [];\n    var noTrigger = name ? name[0] === '_' : false;\n    var domEventExecResult = domEventReg.exec(name);\n\n    if (domEventExecResult) {\n        var eventName = domEventExecResult[1];\n        var _domEventExecResult$ = domEventExecResult[2];\n        var key = _domEventExecResult$ === undefined ? 'sandbox' : _domEventExecResult$;\n        var selector = domEventExecResult[3];\n        // fixing circular reference issue\n\n        var removeDomListener = require('./_removedomlistener');\n\n        removeDomListener(object, key, eventName, selector, callback, context, info);\n\n        return true;\n    }\n\n    // if all events need to be removed\n    if (typeof name === 'undefined') {\n        if (!noTrigger) {\n            for (var _target2 = allEvents, _keys = Object.keys(_target2), _i = 0, allEventsName, allEventsItem, _l2 = _keys.length; (allEventsName = _keys[_i], allEventsItem = _target2[allEventsName]), _i < _l2; _i++) {\n                for (var _target = allEventsItem, _index = 0, event, _l = _target.length; event = _target[_index], _index < _l; _index++) {\n                    var removeEventData = {\n                        allEventsName: allEventsName,\n                        callback: event.callback,\n                        context: event.context\n                    };\n\n                    triggerOne(object, 'removeevent:' + name, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                }\n            }\n        }\n\n        // restore default value of \"events\"\n        def.events = {};\n    } else if (events) {\n        for (var _target3 = events, _index2 = 0, event, _l3 = _target3.length; event = _target3[_index2], _index2 < _l3; _index2++) {\n            var argCallback = callback && callback._callback || callback;\n            var eventCallback = event.callback._callback || event.callback;\n\n            if (argCallback && argCallback !== eventCallback || context && context !== event.context) {\n                // keep event\n                retain.push(event);\n            } else {\n                var _removeEventData = {\n                    name: name,\n                    callback: event.callback,\n                    context: event.context\n                };\n\n                if (!noTrigger) {\n                    triggerOne(object, 'removeevent:' + name, _removeEventData);\n                    triggerOne(object, 'removeevent', _removeEventData);\n                }\n            }\n        }\n        // if events with given name are found\n\n\n        if (retain.length) {\n            allEvents[name] = retain;\n        } else {\n            delete def.events[name];\n        }\n    }\n\n    return false;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/off/_removelistener.js\n **/","'use strict';\n\nvar defs = require('../_core/defs');\n\nvar removeListener = require('./_removelistener');\n\nvar dom = require('../_dom');\n\n// removes dom listener from nodes bound to given key\nmodule.exports = removeDomListener;\nfunction removeDomListener(object, key, eventName, selector, callback, context, info) {\n    var def = defs.get(object);\n\n    if (!def) {\n        return object;\n    }\n\n    var props = def.props;\n\n    var propDef = props[key];\n\n    if (!propDef) {\n        return object;\n    }\n\n    var bindings = propDef.bindings;\n\n\n    if (bindings) {\n        (function () {\n            // collect bound nodes and remove DOM event listener\n            var nodes = Array(bindings.length);\n            var eventNamespace = def.id + key;\n\n            for (var _target = bindings, index = 0, binding, _l = _target.length; binding = _target[index], index < _l; index++) {\n                nodes[index] = binding.node;\n            }\n\n            dom.$(nodes).off(eventName + '.' + eventNamespace, selector, callback);\n        })();\n    }\n\n    // remove bind and unbind listeners from given key\n    removeListener(object, 'bind:' + key, callback, context, info);\n    removeListener(object, 'unbind:' + key, callback, context, info);\n\n    return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/off/_removedomlistener.js\n **/","'use strict';\n\nvar undelegateListener = require('../../off/_undelegatelistener');\n\nvar triggerOne = require('../../trigger/_triggerone');\n\n// the function is called when data property is removed from Matreshka.Object\n// it undelegates asterisk listener from removed object\nmodule.exports = objectRemoveHandler;\nfunction objectRemoveHandler(_ref) {\n    var item = _ref.value;\n\n    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? triggerOne.latestEvent.info.delegatedData : arguments[1];\n\n    var path = _ref2.path;\n    var name = _ref2.name;\n    var callback = _ref2.callback;\n    var context = _ref2.context;\n    var info = _ref2.info;\n\n    if (item && typeof item === 'object') {\n        undelegateListener(item, path, name, callback, context, info);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_delegatelistener/objectremovehandler.js\n **/","'use strict';\n\nvar undelegateListener = require('../../off/_undelegatelistener');\n\nvar triggerOne = require('../../trigger/_triggerone');\n\n// the function is called when some part of a path is changed\n// it delegates event listener for new branch of an object and undelegates it for old one\n// used for non-asterisk events\nmodule.exports = changeHandler;\nfunction changeHandler(_ref) {\n    var previousValue = _ref.previousValue;\n    var value = _ref.value;\n\n    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? triggerOne.latestEvent.info.delegatedData : arguments[1];\n\n    var path = _ref2.path;\n    var name = _ref2.name;\n    var callback = _ref2.callback;\n    var context = _ref2.context;\n    var info = _ref2.info;\n\n    if (value && typeof value === 'object') {\n        var delegateListener = require('./'); // fixing circular ref\n\n        delegateListener(value, path, name, callback, context, info);\n    }\n\n    if (previousValue && typeof previousValue === 'object') {\n        undelegateListener(previousValue, path, name, callback, context, info);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_delegatelistener/changehandler.js\n **/","'use strict';\n\nvar undelegateListener = require('./_undelegatelistener');\n\n// removes tree listener from all object tree of fiven path\n// TODO: Pass context to removeTreeListener\nmodule.exports = removeTreeListener;\nfunction removeTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over keys of the path and undelegate given handler (can be undefined)\n    for (var i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice is slow\n        var listenedPath = deepPath.slice(0, i);\n\n        undelegateListener(object, listenedPath, '_change:tree:' + deepPath[i], handler);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/off/_removetreelistener.js\n **/","'use strict';\n\nvar set = require('../set');\n\nvar deepFind = require('../_helpers/deepfind');\n\nvar apply = require('../_helpers/apply');\n\n// creates event handler for target object which will be fired when a source is changed\nmodule.exports = createCalcHandler;\nfunction createCalcHandler(_ref) {\n    var object = _ref.object;\n    var eventOptions = _ref.eventOptions;\n    var allSources = _ref.allSources;\n    var target = _ref.target;\n    var def = _ref.def;\n    var handler = _ref.handler;\n\n    return function calcHandler() {\n        var changeEvent = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n        var values = [];\n        var _changeEvent$protecto = changeEvent.protector;\n        var protector = _changeEvent$protecto === undefined ? {} : _changeEvent$protecto;\n\n        var protectKey = target + def.id;\n\n        var _keys,\n            _l,\n            _i,\n            _source,\n            _key,\n            _result = {};\n\n        _result.protector = protector\n\n        for (_source = eventOptions, _keys = Object.keys(_source), _l = _keys.length, _i = 0; _i < _l; _i++) {\n            _key = _keys[_i];\n            _result[_key] = _source[_key];\n        }\n\n        for (_source = changeEvent, _keys = Object.keys(_source), _l = _keys.length, _i = 0; _i < _l; _i++) {\n            _key = _keys[_i];\n            _result[_key] = _source[_key];\n        }\n\n        var setEventOptions = _result;\n\n        if (protectKey in protector) {\n            return;\n        }\n\n        protector[protectKey] = true;\n\n        for (var _target = allSources, _index = 0, _ref2, _l2 = _target.length; _ref2 = _target[_index], _index < _l2; _index++) {\n            var sourceObject = _ref2.sourceObject;\n            var sourceKey = _ref2.sourceKey;\n            var isDelegated = _ref2.isDelegated;\n\n            var value = isDelegated ? deepFind(sourceObject, sourceKey) : sourceObject[sourceKey];\n            values.push(value);\n        }\n\n        var targetValue = apply(handler, object, values);\n        set(object, target, targetValue, setEventOptions);\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/calc/_createcalchandler.js\n **/","'use strict';\n\n// gets value of a property in nested object\n// eg \"d\" from a.b.c.d\nmodule.exports = deepFind;\nfunction deepFind(obj, givenPath) {\n    var paths = typeof givenPath === 'string' ? givenPath.split('.') : givenPath;\n    var current = obj;\n\n    for (var i = 0; i < paths.length; ++i) {\n        if (typeof current[paths[i]] === 'undefined') {\n            return undefined;\n        }\n\n        current = current[paths[i]];\n    }\n\n    return current;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/_helpers/deepfind.js\n **/","'use strict';\n\nvar splitBySpaceReg = require('./_splitbyspaceregexp');\n\nvar checkObjectType = require('../_helpers/checkobjecttype');\n\nvar matreshkaError = require('../_helpers/matreshkaerror');\n\nvar addListener = require('./_addlistener');\n\nvar delegateListener = require('./_delegatelistener');\n\n// adds event listener\nmodule.exports = on;\nfunction on(object, givenNames, callback, triggerOnInit, context) {\n    if (typeof this === 'object' && this.isMatreshka) {\n        // when context is Matreshka instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        context = triggerOnInit;\n        triggerOnInit = callback;\n        callback = givenNames;\n        givenNames = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'on');\n    }\n\n    var isNamesVarArray = givenNames instanceof Array;\n\n    // allow to pass name-handler object\n    if (givenNames && typeof givenNames === 'object' && !isNamesVarArray) {\n        for (var _target = givenNames, _keys = Object.keys(_target), _i = 0, namesObjName, namesObjCallback, _l = _keys.length; (namesObjName = _keys[_i], namesObjCallback = _target[namesObjName]), _i < _l; _i++) {\n            on(object, namesObjName, namesObjCallback, callback, triggerOnInit)\n        }\n\n        return object;\n    }\n\n    if (typeof givenNames !== 'string' && !isNamesVarArray) {\n        throw matreshkaError('on:names_type', { names: givenNames });\n    }\n\n    // split by spaces\n    // TODO: Array of names passed to on method is non-documented feature\n    var names = isNamesVarArray ? givenNames : givenNames.split(splitBySpaceReg);\n\n    // flip triggerOnInit and context when triggerOnInit is not boolean\n    if (typeof triggerOnInit !== 'boolean' && typeof triggerOnInit !== 'undefined') {\n        var _ref = [triggerOnInit, context];\n        // eslint-disable-next-line no-param-reassign\n\n        context = _ref[0];\n        triggerOnInit = _ref[1];\n    }\n\n    // call callback immediatelly if triggerOnInit is true\n    for (var _target2 = names, _index = 0, name, _l2 = _target2.length; name = _target2[_index], _index < _l2; _index++) {\n        var delegatedEventParts = name.split('@');\n\n        if (delegatedEventParts.length > 1) {\n            // if @ exists in event name then this is delegated event\n            var path = delegatedEventParts[0];\n            var delegatedName = delegatedEventParts[1];\n\n            delegateListener(object, path, delegatedName, callback, context);\n        } else {\n            // if not, this is simple event\n            addListener(object, name, callback, context);\n        }\n    }\n\n    if (triggerOnInit === true) {\n        callback.call(context || object, { triggerOnInit: triggerOnInit });\n    }\n\n    return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/index.js\n **/","\"use strict\";\n\n// allows to split by spaces not inclusing ones inside of brackers\nmodule.exports = /\\s+(?![^(]*\\))/g;\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/on/_splitbyspaceregexp.js\n **/","'use strict';\n\nvar on = require('./on');\n\nvar checkObjectType = require('./_helpers/checkobjecttype');\n\nvar debounce = require('./_helpers/debounce');\n\n// adds debounced event listener\nmodule.exports = onDebounce;\nfunction onDebounce(object, names, givenCallback, givenDelay, triggerOnInit, context) {\n    if (typeof this === 'object' && this.isMatreshka) {\n        // when context is Matreshka instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        context = triggerOnInit;\n        triggerOnInit = givenDelay;\n        givenDelay = givenCallback;\n        givenCallback = names;\n        names = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'onDebounce');\n    }\n\n    var isNamesVarArray = names instanceof Array;\n\n    // allow to pass name-handler object\n    if (names && typeof names === 'object' && !isNamesVarArray) {\n        for (var _target = names, _keys = Object.keys(_target), _i = 0, namesObjName, namesObjCallback, _l = _keys.length; (namesObjName = _keys[_i], namesObjCallback = _target[namesObjName]), _i < _l; _i++) {\n            onDebounce(object, namesObjName, namesObjCallback, givenCallback, givenDelay, triggerOnInit)\n        }\n\n        return object;\n    }\n\n    var delay = typeof givenDelay === 'number' ? givenDelay : 0;\n\n    var callback = debounce(givenCallback, delay);\n\n    // allow to remove event listener py passing original callback to \"off\"\n    callback._callback = givenCallback;\n\n    return on(object, names, callback, triggerOnInit, context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/ondebounce.js\n **/","'use strict';\n\nvar domEventReg = require('../on/_domeventregexp');\n\nvar checkObjectType = require('../_helpers/checkobjecttype');\n\nvar matreshkaError = require('../_helpers/matreshkaerror');\n\nvar splitBySpaceReg = require('../on/_splitbyspaceregexp');\n\nvar defs = require('../_core/defs');\n\nvar triggerOne = require('./_triggerone');\n\nvar triggerDomEvent = require('./_triggerdomevent');\n\n// triggers an event\nmodule.exports = trigger;\nfunction trigger() {\n    var object = void 0;\n    var givenNames = void 0;\n    var triggerArgs = void 0;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    if (typeof this === 'object' && this.isMatreshka) {\n        givenNames = args[0];\n        // when context is Matreshka instance, use this as an object and shift other args\n\n        triggerArgs = args.slice(1);\n\n        object = this;\n    } else {\n        // throw error when object type is wrong\n        object = args[0];\n        givenNames = args[1];\n        triggerArgs = args.slice(2);\n        checkObjectType(object, 'trigger');\n    }\n    var names = void 0;\n\n    // allow to use strings only as event name\n    if (typeof givenNames === 'string') {\n        names = givenNames.split(splitBySpaceReg);\n    } else {\n        throw matreshkaError('trigger:names_type', { names: givenNames });\n    }\n\n    var def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return object;\n    }\n\n    var allEvents = def.events;\n\n\n    if (!allEvents) {\n        return object;\n    }\n\n    for (var _target = names, _index = 0, name, _l = _target.length; name = _target[_index], _index < _l; _index++) {\n        var domEvtExecResult = domEventReg.exec(name);\n\n        if (domEvtExecResult) {\n            // if EVT::KEY(SELECTOR) ia passed as event name then trigger DOM event\n            var eventName = domEvtExecResult[1];\n            var _domEvtExecResult$ = domEvtExecResult[2];\n            var key = _domEvtExecResult$ === undefined ? 'sandbox' : _domEvtExecResult$;\n            var selector = domEvtExecResult[3];\n\n            triggerDomEvent(object, key, eventName, selector, triggerArgs);\n        } else {\n            // trigger ordinary event\n            triggerOne(object, name, triggerArgs);\n        }\n    }\n\n    return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/trigger/index.js\n **/","'use strict';\n\nvar triggerOneDOMEvent = require('./_triggeronedomevent');\n\nvar defs = require('../_core/defs');\n\n// triggers DOM event on bound nodes\nmodule.exports = triggerDOMEvent;\nfunction triggerDOMEvent(object, key, eventName, selector, triggerArgs) {\n    var def = defs.get(object);\n\n    if (!def) {\n        return;\n    }\n\n    var props = def.props;\n\n    var propDef = props[key];\n\n    if (!propDef) {\n        return;\n    }\n\n    var bindings = propDef.bindings;\n\n\n    if (!bindings) {\n        return;\n    }\n\n    for (var _target2 = bindings, _index2 = 0, _ref, _l2 = _target2.length; _ref = _target2[_index2], _index2 < _l2; _index2++) {\n        var node = _ref.node;\n\n        if (selector) {\n            // if selector is given trigger an event on all node descendants\n            var descendants = node.querySelectorAll(selector);\n\n            for (var _target = descendants, _index = 0, descendant, _l = _target.length; descendant = _target[_index], _index < _l; _index++) {\n                triggerOneDOMEvent({\n                    node: descendant,\n                    eventName: eventName,\n                    triggerArgs: triggerArgs\n                });\n            }\n        } else {\n            // trigger an event for single node\n            triggerOneDOMEvent({\n                node: node,\n                eventName: eventName,\n                triggerArgs: triggerArgs\n            });\n        }\n    }\n\n    return;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/trigger/_triggerdomevent.js\n **/","'use strict';\n\n// triggers given DOM event on given node\nmodule.exports = triggerOneDOMEvent;\nfunction triggerOneDOMEvent(_ref) {\n    var node = _ref.node;\n    var eventName = _ref.eventName;\n    var triggerArgs = _ref.triggerArgs;\n    var _window = window;\n    var document = _window.document;\n    var Event = _window.Event;\n\n    var event = void 0;\n\n    // polyfill for older browsers\n    if (document.createEvent) {\n        /* istanbul ignore next */\n        event = document.createEvent('Event');\n        event.initEvent(eventName, true, true);\n    } else if (typeof Event !== 'undefined') {\n        event = new Event(eventName, {\n            bubbles: true,\n            cancelable: true\n        });\n    }\n\n    // matreshkaTriggerArgs will be used in a handler created by addDOMListener\n    event.matreshkaTriggerArgs = triggerArgs;\n\n    node.dispatchEvent(event);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/matreshka/trigger/_triggeronedomevent.js\n **/"],"sourceRoot":""}